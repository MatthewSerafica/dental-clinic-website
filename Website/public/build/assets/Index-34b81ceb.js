import{r as l,n as L,K as H,c as E,b as c,w as x,o as s,d as e,m as K,v as U,u as a,x as q,i as v,j as J,t as p,F as Q,f as g,h as d,g as _,O as W}from"./app-cdbf4484.js";import{E as X}from"./Error-fb42616a.js";import{_ as Z}from"./Pagination-af17f53a.js";import{S as ee}from"./Success-01c9158f.js";import te from"./Create-49694857.js";import se from"./Delete-2ae5697a.js";import le from"./Edit-1880eea1.js";import oe from"./MainLayout-ff052132.js";import{s as S,m as M}from"./flowbite-vue-62d8acb5.js";import{h as ae}from"./index-89e1533b.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./SideBar-ddd0ab5f.js";import"./SluDentalLogo-a4fb04a6.js";import"./DentistLinks-aebae790.js";import"./SideBarLinks-b569a21a.js";import"./DashboardIcon-abe5f48e.js";import"./UsersIcon-3089db95.js";import"./PatientIcon-56da3996.js";import"./PatientLinks-2a5a06a3.js";import"./AssistantLinks-c53c5408.js";import"./AdminLinks-fd8c5b60.js";import"./Header-33526c7b.js";import"./SideBarMobileView-d1951852.js";const re=e("div",{class:"flex flex-col ml-2 max-sm:px-5"},[e("h1",{class:"w-20 h-8 text-2xl font-bold text-gray-700 max-sm:ml-4"},"Departments"),e("h6",{class:"h-1 text-xs text-gray-400 max-sm:ml-4"},[e("a",{href:"/admin"},"Home"),_(" > Departments ")])],-1),ne={class:"relative flex flex-col flex-grow mt-8 bg-white max-sm:ml-10 rounded-xl"},ie={class:"grid mt-10 mb-2 ml-10 mr-10"},ce={class:"flex justify-between w-full py-1 mx-auto sm:items-center max-sm:flex-col max-sm:gap-4"},de={class:"flex flex-row items-center gap-4"},me={class:"relative max-sm:w-full"},ue=e("div",{class:"absolute top-0 left-0 inline-flex items-center justify-center w-10 h-full text-gray-400"},[e("svg",{class:"w-6 h-6",fill:"none","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1),fe={class:"grid mb-10 ml-10 mr-10"},he={class:"gap-4 lg:grid-cols-2 lg:gap-8"},xe={class:"relative"},pe={class:"w-full my-5 overflow-hidden rounded-lg sm:bg-white sm:shadow-lg"},ge=e("thead",{class:"w-full text-black"},[e("tr",{class:"flex flex-col mb-2 bg-gray-100 rounded-l-lg flex-no wrap sm:table-row sm:rounded-none sm:mb-0"},[e("th",{class:"p-3 px-6 text-left"},"#"),e("th",{class:"p-3 text-left"}," DEPARTMENTS "),e("th",{class:"p-3 text-left max-sm:hidden"}," DATE CREATED "),e("th",{class:"p-3 text-left max-sm:hidden"}," ACTIONS ")])],-1),be={class:"flex-1 sm:flex-none"},ve={class:"p-3 px-6 border-grey-light sm:border-b hover:bg-gray-100 max-sm:hidden w-52"},_e={class:"mr-2 text-base font-medium leading-none text-gray-700"},we={class:"p-3 border-grey-light sm:border-b hover:bg-gray-100 max-sm:hidden w-52"},ye={class:"mr-2 text-base font-medium leading-none text-gray-700"},ke={class:"p-3 border-grey-light sm:border-b hover:bg-gray-100 max-sm:hidden w-52"},De={class:"mr-2 text-base font-medium leading-none text-gray-700"},Ce={class:"w-2 p-3 border-grey-light sm:border-b hover:bg-gray-100 max-sm:hidden"},Ee={class:"flex flex-row gap-2"},Se=["onClick"],Me=["onClick"],Ne={key:0,class:"flex justify-center w-full mt-6"},Te={class:"flex flex-col items-center gap-6 px-4 text-lg font-semibold"},Ye={class:"text-xl text-center text-green-500 capitalize"},je={class:"flex flex-col items-center gap-6 px-4 text-lg font-semibold"},ze={class:"w-56 text-lg font-semibold text-center text-red-500 capitalize"},lt={__name:"Index",props:{departments:{type:Object,default:()=>({})},page:{type:Number,default:1},perPage:{type:Number,default:10},filters:{type:Object,default:()=>({})}},setup(r){const N=r,T=i=>ae(i,"MM-DD-YYYY").format("DD-MM-YYYY");let o=l(N.filters.search),Y=l("id"),j=l("asc"),b=null;const z=()=>{W.get("/admin/departments",{search:o.value},{preserveState:!0,replace:!0})},A=()=>{b&&clearTimeout(b),b=setTimeout(()=>{z()},500)},$=()=>{Y.value="id",j.value="asc"};L(o,()=>{o.value||$(),A()});const m=l(!1);function w(){m.value=!1}const y=H(),k=E(()=>y.props.flash.success,m.value=!0),D=E(()=>y.props.flash.error,m.value=!0),u=l(!1);function B(){u.value&&(u.value=!1)}function F(){u.value||(u.value=!0)}const f=l(!1);let n=l(null);function I(){f.value&&(n.value=null,f.value=!1)}function O(i){f.value||(n.value=i,f.value=!0)}const h=l(!1);function V(){h.value&&(n.value=null,h.value=!1)}function P(i){h.value||(n.value=i,h.value=!0)}return(i,C)=>(s(),c(oe,null,{mainContent:x(()=>[re,e("div",ne,[e("div",ie,[e("div",ce,[e("div",de,[e("div",me,[ue,K(e("input",{id:"search",type:"text",name:"search","onUpdate:modelValue":C[0]||(C[0]=t=>q(o)?o.value=t:o=t),class:"w-full h-10 pl-10 pr-4 text-sm placeholder-gray-500 border border-gray-300 rounded-lg sm:text-base focus:outline-none focus:border-indigo-400 bg-gray-50",placeholder:"Search Department Name"},null,512),[[U,a(o)]])])]),e("div",{class:""},[e("button",{onClick:F,type:"button",class:"px-5 py-3 text-sm font-medium text-center text-white bg-green-500 rounded-lg max-sm:w-full hover:bg-green-600 focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"}," Add New Department ")])])]),e("div",fe,[e("div",he,[e("div",xe,[e("table",pe,[ge,e("tbody",be,[(s(!0),v(Q,null,J(r.departments.data,(t,R)=>(s(),v("tr",{class:"flex flex-col mb-2 flex-no wrap sm:table-row sm:mb-0 max-sm:border max-sm:roun hover:bg-gray-100",key:t.id},[e("td",ve,[e("p",_e,p((r.page-1)*r.perPage+R+1),1)]),e("td",we,[e("p",ye,p(t.departments),1)]),e("td",ke,[e("p",De,p(t.created_at?T(new Date(t.created_at).toLocaleDateString()):"N/A"),1)]),e("td",Ce,[e("div",Ee,[e("button",{onClick:G=>O(t),type:"button",class:"px-4 py-2 text-gray-100 bg-blue-500 rounded-lg max-sm:w-full hover:bg-blue-700 hover:text-white"}," Edit ",8,Se),e("button",{onClick:G=>P(t),type:"button",class:"p-2 text-gray-100 bg-red-500 rounded-lg max-sm:w-full hover:bg-red-700 hover:text-white"}," Delete ",8,Me)])])]))),128))])])])]),r.departments.data.length?(s(),v("div",Ne,[g(Z,{links:r.departments.links},null,8,["links"])])):d("",!0)]),u.value?(s(),c(te,{key:0,onCloseModal:B})):d("",!0),f.value?(s(),c(le,{key:1,department:a(n),onCloseEdit:I},null,8,["department"])):d("",!0),h.value?(s(),c(se,{key:2,department:a(n),onCloseDelete:V},null,8,["department"])):d("",!0),k.value&&m.value?(s(),c(a(S),{key:3,persistent:"",size:"lg"},{body:x(()=>[e("div",Te,[g(ee,{class:"w-20 h-20"}),e("h1",Ye,p(k.value),1),g(a(M),{color:"default",size:"lg",class:"w-full",onClick:w},{default:x(()=>[_("Got It")]),_:1})])]),_:1})):d("",!0),D.value&&m.value?(s(),c(a(S),{key:4,size:"md",persistent:""},{body:x(()=>[e("div",je,[g(X,{class:"w-12 h-12"}),e("h1",ze,p(D.value),1),g(a(M),{color:"default",size:"lg",class:"w-full",onClick:w},{default:x(()=>[_("Got It")]),_:1})])]),_:1})):d("",!0)])]),_:1}))}};export{lt as default};
