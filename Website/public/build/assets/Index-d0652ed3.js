import{r as o,K as H,c as C,n as R,b as c,w as x,o as t,d as e,m as K,v as U,u as a,x as q,i as v,j as J,t as g,F as Q,f as p,h as d,g as _,O as W}from"./app-cdbf4484.js";import{E as X}from"./Error-fb42616a.js";import{_ as Z}from"./Pagination-af17f53a.js";import{S as ee}from"./Success-01c9158f.js";import te from"./Create-9323d3ad.js";import se from"./Delete-e732b98b.js";import le from"./Edit-35478a4f.js";import oe from"./MainLayout-ff052132.js";import{s as E,m as M}from"./flowbite-vue-62d8acb5.js";import{h as ae}from"./index-89e1533b.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./SideBar-ddd0ab5f.js";import"./SluDentalLogo-a4fb04a6.js";import"./DentistLinks-aebae790.js";import"./SideBarLinks-b569a21a.js";import"./DashboardIcon-abe5f48e.js";import"./UsersIcon-3089db95.js";import"./PatientIcon-56da3996.js";import"./PatientLinks-2a5a06a3.js";import"./AssistantLinks-c53c5408.js";import"./AdminLinks-fd8c5b60.js";import"./Header-33526c7b.js";import"./SideBarMobileView-d1951852.js";const re=e("div",{class:"flex flex-col ml-2 max-sm:px-5"},[e("h1",{class:"w-20 h-8 text-2xl font-bold text-gray-700 max-sm:ml-4"},"Schools"),e("h6",{class:"h-1 text-xs text-gray-400 max-sm:ml-4"},[e("a",{href:"/admin"},"Home"),_(" > Schools ")])],-1),ie={class:"relative flex flex-col flex-grow mt-8 bg-white max-sm:ml-10 rounded-xl"},ne={class:"grid mt-10 mb-2 ml-10 mr-10"},ce={class:"flex justify-between w-full py-1 mx-auto sm:items-center max-sm:flex-col max-sm:gap-4"},de={class:"flex flex-row items-center gap-4"},me={class:"relative max-sm:w-full"},ue=e("div",{class:"absolute top-0 left-0 inline-flex items-center justify-center w-10 h-full text-gray-400"},[e("svg",{class:"w-6 h-6",fill:"none","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1),fe={class:"grid mb-10 ml-10 mr-10"},he={class:"gap-4 lg:grid-cols-2 lg:gap-8"},xe={class:"relative"},ge={class:"w-full my-5 overflow-hidden rounded-lg sm:bg-white sm:shadow-lg"},pe=e("thead",{class:"w-full text-black"},[e("tr",{class:"flex flex-col mb-2 bg-gray-100 rounded-l-lg flex-no wrap sm:table-row sm:rounded-none sm:mb-0"},[e("th",{class:"p-3 px-6 text-left"},"#"),e("th",{class:"p-3 text-left"}," SCHOOLS "),e("th",{class:"p-3 text-left max-sm:hidden"}," DATE CREATED "),e("th",{class:"p-3 text-left max-sm:hidden"}," ACTIONS ")])],-1),be={class:"flex-1 sm:flex-none"},ve={class:"p-3 px-6 border-grey-light sm:border-b hover:bg-gray-100 max-sm:hidden w-52"},_e={class:"mr-2 text-base font-medium leading-none text-gray-700"},we={class:"p-3 border-grey-light sm:border-b hover:bg-gray-100 max-sm:hidden w-52"},ye={class:"mr-2 text-base font-medium leading-none text-gray-700"},ke={class:"p-3 border-grey-light sm:border-b hover:bg-gray-100 max-sm:hidden w-52"},Se={class:"mr-2 text-base font-medium leading-none text-gray-700"},De={class:"w-2 p-3 border-grey-light sm:border-b hover:bg-gray-100 max-sm:hidden"},Ce={class:"flex flex-row gap-2"},Ee=["onClick"],Me=["onClick"],Ne={key:0,class:"flex justify-center w-full mt-6"},Ye={class:"flex flex-col items-center gap-6 px-4 text-lg font-semibold"},je={class:"text-xl text-center text-green-500 capitalize"},ze={class:"flex flex-col items-center gap-6 px-4 text-lg font-semibold"},Oe={class:"w-56 text-lg font-semibold text-center text-red-500 capitalize"},lt={__name:"Index",props:{schools:{type:Object,default:()=>({})},page:{type:Number,default:1},perPage:{type:Number,default:10},filters:{type:Object,default:()=>({})}},setup(r){const N=r,Y=n=>ae(n,"MM-DD-YYYY").format("DD-MM-YYYY"),m=o(!1);function w(){m.value=!1}const y=H(),k=C(()=>y.props.flash.success,m.value=!0),S=C(()=>y.props.flash.error,m.value=!0),u=o(!1);function j(){u.value&&(u.value=!1)}function z(){u.value||(u.value=!0)}const f=o(!1);let i=o(null);function O(){f.value&&(i.value=null,f.value=!1)}function T(n){f.value||(i.value=n,f.value=!0)}const h=o(!1);function I(){h.value&&(i.value=null,h.value=!1)}function $(n){h.value||(i.value=n,h.value=!0)}const B=()=>{localStorage.setItem("search",s.value),W.get("/admin/schools",{search:s.value},{preserveState:!0,replace:!0})},F=()=>{b&&clearTimeout(b),b=setTimeout(()=>{B()},500)},V=()=>{A.value="id",L.value="asc"};let s=o(N.filters.search),A=o("id"),L=o("asc"),b=null;return R(s,()=>{s.value||V(),F()}),(n,D)=>(t(),c(oe,null,{mainContent:x(()=>[re,e("div",ie,[e("div",ne,[e("div",ce,[e("div",de,[e("div",me,[ue,K(e("input",{id:"search",type:"text",name:"search","onUpdate:modelValue":D[0]||(D[0]=l=>q(s)?s.value=l:s=l),class:"w-full h-10 pl-10 pr-4 text-sm placeholder-gray-500 border border-gray-300 rounded-lg sm:text-base focus:outline-none focus:border-indigo-400 bg-gray-50",placeholder:"Search School Name"},null,512),[[U,a(s)]])])]),e("div",{class:""},[e("button",{onClick:z,type:"button",class:"px-5 py-3 text-sm font-medium text-center text-white bg-green-500 rounded-lg max-sm:w-full hover:bg-green-600 focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"}," Add New School ")])])]),e("div",fe,[e("div",he,[e("div",xe,[e("table",ge,[pe,e("tbody",be,[(t(!0),v(Q,null,J(r.schools.data,(l,P)=>(t(),v("tr",{class:"flex flex-col mb-2 flex-no wrap sm:table-row sm:mb-0 max-sm:border max-sm:roun hover:bg-gray-100",key:l.id},[e("td",ve,[e("p",_e,g((r.page-1)*r.perPage+P+1),1)]),e("td",we,[e("p",ye,g(l.school),1)]),e("td",ke,[e("p",Se,g(Y(new Date(l.created_at).toLocaleDateString())),1)]),e("td",De,[e("div",Ce,[e("button",{onClick:G=>T(l),type:"button",class:"px-4 py-2 text-gray-100 bg-blue-500 rounded-lg max-sm:w-full hover:bg-blue-700 hover:text-white"}," Edit ",8,Ee),e("button",{onClick:G=>$(l),type:"button",class:"p-2 text-gray-100 bg-red-500 rounded-lg max-sm:w-full hover:bg-red-700 hover:text-white"}," Delete ",8,Me)])])]))),128))])])])]),r.schools.data.length?(t(),v("div",Ne,[p(Z,{links:r.schools.links},null,8,["links"])])):d("",!0)]),u.value?(t(),c(te,{key:0,onCloseModal:j})):d("",!0),f.value?(t(),c(le,{key:1,school:a(i),onCloseEdit:O},null,8,["school"])):d("",!0),h.value?(t(),c(se,{key:2,school:a(i),onCloseDelete:I},null,8,["school"])):d("",!0),k.value&&m.value?(t(),c(a(E),{key:3,persistent:"",size:"lg"},{body:x(()=>[e("div",Ye,[p(ee,{class:"w-20 h-20"}),e("h1",je,g(k.value),1),p(a(M),{color:"default",size:"lg",class:"w-full",onClick:w},{default:x(()=>[_("Got It")]),_:1})])]),_:1})):d("",!0),S.value&&m.value?(t(),c(a(E),{key:4,size:"md",persistent:""},{body:x(()=>[e("div",ze,[p(X,{class:"w-12 h-12"}),e("h1",Oe,g(S.value),1),p(a(M),{color:"default",size:"lg",class:"w-full",onClick:w},{default:x(()=>[_("Got It")]),_:1})])]),_:1})):d("",!0)])]),_:1}))}};export{lt as default};
