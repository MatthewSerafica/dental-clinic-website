import{r as f,K as se,c as M,T as k,a as oe,b as p,w as l,o,d as e,u as n,e as le,f as r,g as m,h as a,i,j as ae,t as c,k as g,F as ne,l as re,O as de}from"./app-cdbf4484.js";import{A as ie}from"./AddApointment-2aa6d91a.js";import{E as ce}from"./Error-fb42616a.js";import{_ as ue}from"./Pagination-af17f53a.js";import{S as pe}from"./Success-01c9158f.js";import me from"./Cancel-5919b53e.js";import fe from"./Create-81b40ad2.js";import ge from"./MainLayout-ff052132.js";import{s as T,m as v,G as he}from"./flowbite-vue-62d8acb5.js";import{h as z}from"./index-89e1533b.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./SideBar-ddd0ab5f.js";import"./SluDentalLogo-a4fb04a6.js";import"./DentistLinks-aebae790.js";import"./SideBarLinks-b569a21a.js";import"./DashboardIcon-abe5f48e.js";import"./UsersIcon-3089db95.js";import"./PatientIcon-56da3996.js";import"./PatientLinks-2a5a06a3.js";import"./AssistantLinks-c53c5408.js";import"./AdminLinks-fd8c5b60.js";import"./Header-33526c7b.js";import"./SideBarMobileView-d1951852.js";const xe=e("div",{class:"flex flex-col ml-2"},[e("h1",{class:"w-20 h-8 text-2xl font-bold text-gray-700"},"Appointments"),e("h6",{class:"h-1 text-xs text-gray-400"},[e("a",{href:"/admin"},"Home"),m(" > Appointments ")])],-1),_e={class:"flex flex-col flex-grow mt-8 bg-white rounded-xl"},be={class:"flex flex-row justify-between mt-10 mb-2 ml-10 mr-10 max-md:flex-col"},ve={class:"flex items-center w-full gap-3 left-2"},ye={class:"flex justify-between w-full py-1 mx-auto sm:items-center max-sm:flex-col max-sm:gap-4"},ke=e("div",{class:"flex flex-row items-center gap-4"},null,-1),we={class:"absolute right-[250px]"},Ce=e("div",{class:"flex items-center text-lg font-semibold"}," Upload File Here ",-1),Ae=["onSubmit"],$e={class:"flex flex-col justify-center"},Se=e("label",{class:"mb-2 ml-2 text-sm font-medium text-gray-900 dark:text-white",for:"file"},"Upload file",-1),Me={class:"flex justify-end gap-4 pt-8"},Te={class:"grid mb-10 ml-10 mr-10"},Ee={class:"gap-4 lg:grid-cols-2 lg:gap-8"},De={class:"relative"},Fe={class:"w-full my-5 overflow-hidden rounded-lg sm:bg-white sm:shadow-lg"},Ie=e("thead",{class:"w-full text-black"},[e("tr",{class:"flex flex-col mb-0 bg-gray-100 rounded-l-lg flex-no wrap sm:table-row sm:rounded-none sm:mb-0"},[e("th",{class:"p-3 text-left max-md:hidden"},"DATE"),e("th",{class:"p-3 text-left md:hidden"},"APPOINTMENTS"),e("th",{class:"p-3 text-left max-md:hidden"}," TIME "),e("th",{class:"p-3 text-left max-md:hidden"},"NAME"),e("th",{class:"p-3 text-left max-md:hidden"}," TYPE "),e("th",{class:"p-3 text-left max-md:hidden"},"NOTES"),e("th",{class:"p-3 text-left max-md:hidden"},"STATUS"),e("th",{class:"p-3 text-left max-md:hidden max-xl:hidden"},"ACTIONS")])],-1),Ne={class:"flex-1 sm:flex-none"},Ye={class:"lg:hidden"},Oe={class:"p-3 border-grey-light hover:bg-gray-100"},Pe={class:"flex flex-col"},je={class:"mr-2 text-base font-medium leading-none text-gray-700"},ze={class:"p-3 border-grey-light hover:bg-gray-100 max-md:hidden"},Be={class:"flex flex-col"},Ue={class:"mr-2 text-base font-medium leading-none text-gray-700"},Ge={class:"p-3 hover:bg-gray-100 max-md:hidden"},He={class:"flex flex-col"},Ve={class:"mr-2 text-base font-medium leading-none text-gray-700"},qe={class:"p-3 hover:bg-gray-100"},Ke={class:"flex flex-col"},Le={class:"mr-2 text-base font-medium leading-none text-gray-700"},Je={class:"p-3 hover:bg-gray-100"},Qe={class:"flex flex-col"},Re=e("p",{class:"mr-2 text-base font-normal leading-none text-gray-700 lg:hidden"},"Appointment Type:",-1),We={class:"mr-2 text-base font-medium leading-none text-gray-700"},Xe={class:"p-3 hover:bg-gray-100 max-md:hidden"},Ze={class:"flex flex-col"},et={class:"mr-2 text-base font-medium leading-none text-gray-700"},tt={class:"p-3 hover:bg-gray-100"},st={class:"flex flex-col"},ot={key:0,class:"w-24 py-1 text-center text-red-500 bg-red-200 rounded-full"},lt={key:1,class:"w-24 py-1 text-center text-blue-500 bg-blue-200 rounded-full"},at={key:2,class:"w-24 py-1 text-center text-orange-400 bg-orange-200 rounded-full"},nt={key:3,class:"w-24 py-1 text-center text-green-500 bg-green-200 rounded-full"},rt={key:4,class:"w-24 py-1 text-center text-yellow-400 bg-yellow-100 rounded-full"},dt={class:"p-2.5 hover:bg-gray-100 xl:absolute"},it={class:"bg-gray-200 rounded-lg shadow-lg"},ct={key:0,class:"hover-bg-gray-300"},ut=["onClick"],pt={key:1},mt=["onClick"],ft={key:2},gt=["onClick"],ht={key:3},xt=["onClick"],_t=["onClick"],bt={key:0,class:"flex justify-center w-full mt-6"},vt={class:"flex flex-col items-center gap-6 px-4 text-lg font-semibold"},yt={class:"text-xl text-center text-green-500 capitalize"},kt={class:"w-56 pb-4 text-sm font-normal text-center text-gray-500"},wt={class:"flex flex-col items-center gap-6 px-4 text-lg font-semibold"},Ct={class:"w-56 text-lg font-semibold text-center text-red-500 capitalize"},Jt={__name:"Index",props:{appointments:{type:Array},dentists:{type:Array},services:{type:Array}},setup(h){const E=f(null),B=()=>{E.value=document.querySelector("#file").files[0]},U=async()=>{let s=new FormData;s.append("file",E.value);try{const u=await re.post("/admin/appointment/bulk",s,{headers:{"Content-Type":"multipart/form-data"}});console.log("File uploaded successfully"),y.value=!1,j()}catch(u){console.log("Error uploading file"),console.error(u)}},w=f(!1),C=se();function G(){w.value=!1}function H(){w.value=!0}const y=f(!1);function D(){y.value=!1}function V(){y.value=!0}function F(s){return z(s,"HH:mm").format("hh:mm A")}const I=s=>z(s,"YYYY-MM-DD").format("MMMM D, YYYY"),x=f(!1);function N(){x.value=!1}const Y=M(()=>C.props.flash.success,x.value=!0),q=M(()=>C.props.flash.message),O=M(()=>C.props.flash.error,x.value=!0),K=k({status:"pending",reason:"pending",made_appointment:1}),L=k({status:"approved",reason:"approved",made_appointment:1}),J=k({status:"ongoing",reason:"ongoing",made_appointment:1}),Q=k({status:"completed",reason:"completed",made_appointment:0});function R(s){K.put(route("admin.appointment.update",s.app_id))}function W(s){L.put(route("admin.appointment.update",s.app_id))}function X(s){J.put(route("admin.appointment.update",s.app_id))}function P(s){Q.put(route("admin.appointment.update",s.app_id))}let A=f(null);const _=f(!1);function Z(){_.value&&(A.value=null,_.value=!1)}function ee(s){_.value||(A.value=s,_.value=!0)}const d=oe({upcoming:!1,past:!1,all:!0});let $=null;const j=()=>{de.get("/admin/appointment",{filterAppointments:d.all?"all":d.upcoming?"upcoming":d.past?"past":""},{preserveState:!0,replace:!0})},te=()=>{$&&clearTimeout($),$=setTimeout(()=>{j()},500)},S=s=>{s==="upcoming"?(d.upcoming=!0,d.past=!1,d.all=!1):s==="past"?(d.past=!0,d.upcoming=!1,d.all=!1):s==="all"&&(d.all=!0,d.upcoming=!1,d.past=!1),te()};return(s,u)=>(o(),p(ge,null,{mainContent:l(()=>[xe,e("div",_e,[e("div",be,[e("div",ve,[e("button",{onClick:u[0]||(u[0]=t=>S("all")),class:"px-4 py-2 font-semibold text-blue-700 bg-transparent border border-blue-500 rounded hover:bg-blue-500 hover:text-white hover:border-transparent"}," All "),e("button",{onClick:u[1]||(u[1]=t=>S("upcoming")),class:"px-4 py-2 font-semibold text-blue-700 bg-transparent border border-blue-500 rounded hover:bg-blue-500 hover:text-white hover:border-transparent"}," Upcoming "),e("button",{onClick:u[2]||(u[2]=t=>S("past")),class:"px-4 py-2 font-semibold text-blue-700 bg-transparent border border-blue-500 rounded hover:bg-blue-500 hover:text-white hover:border-transparent"}," Past ")]),e("div",ye,[ke,e("div",we,[e("button",{onClick:V,type:"button",class:"flex items-center gap-3 px-5 py-3 text-sm font-medium text-center text-white bg-yellow-500 rounded-lg max-sm:w-full hover:bg-yellow-600 focus:ring-4 focus:outline-none focus:ring-yellow-300 dark:bg-yellow-600 dark:hover:bg-yellow-700 dark:focus:ring-yellow-800"}," Import "),y.value?(o(),p(n(T),{key:0,onClose:D},{header:l(()=>[Ce]),body:l(()=>[e("form",{class:"",onSubmit:le(U,["prevent"]),enctype:"multipart/form-data"},[e("div",$e,[Se,e("input",{class:"w-full text-sm text-gray-900 border border-gray-300 rounded-lg cursor-pointer bg-gray-50 dark:text-gray-400 focus:outline-none dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400",id:"file",type:"file",onChange:B},null,32)]),e("div",Me,[r(n(v),{onClick:D,color:"alternative"},{default:l(()=>[m(" Cancel ")]),_:1}),r(n(v),{type:"submit",color:"green"},{default:l(()=>[m(" Insert ")]),_:1})])],40,Ae)]),_:1})):a("",!0)]),e("div",null,[e("button",{onClick:H,type:"button",class:"flex items-center gap-3 px-5 py-3 text-sm font-medium text-center text-white bg-green-500 rounded-lg max-sm:w-full hover:bg-green-600"},[r(ie),m(" BookÂ Appointment ")])])])]),e("div",Te,[e("div",Ee,[e("div",De,[e("table",Fe,[Ie,e("tbody",Ne,[(o(!0),i(ne,null,ae(h.appointments.data,t=>(o(),i("tr",{class:"flex flex-col mb-2 flex-no wrap md:table-row max-md:mb-0 max-md:border hover:bg-gray-100 border-grey-light sm:border-b",key:t.app_id},[e("div",Ye,[e("td",Oe,[r(n(g),{href:`/admin/appointment/${t.app_id}`},{default:l(()=>[e("div",Pe,[e("p",je,c(I(t.app_date))+" at "+c(F(t.app_time)),1)])]),_:2},1032,["href"])])]),e("td",ze,[r(n(g),{href:`/admin/appointment/${t.app_id}`},{default:l(()=>[e("div",Be,[e("p",Ue,c(I(t.app_date)),1)])]),_:2},1032,["href"])]),e("td",Ge,[r(n(g),{href:`/admin/appointment/${t.app_id}`},{default:l(()=>[e("div",He,[e("p",Ve,c(F(t.app_time)),1)])]),_:2},1032,["href"])]),e("td",qe,[r(n(g),{href:`/admin/appointment/${t.app_id}`},{default:l(()=>[e("div",Ke,[e("p",Le,c(t.user.name),1)])]),_:2},1032,["href"])]),e("td",Je,[r(n(g),{href:`/admin/appointment/${t.app_id}`},{default:l(()=>[e("div",Qe,[Re,e("p",We,c(t.app_type),1)])]),_:2},1032,["href"])]),e("td",Xe,[r(n(g),{href:`/admin/appointment/${t.app_id}`},{default:l(()=>[e("div",Ze,[e("p",et,c(t.pat_notes),1)])]),_:2},1032,["href"])]),e("td",tt,[e("div",st,[t.status==="cancelled"?(o(),i("div",ot," Cancelled ")):a("",!0),t.status==="approved"?(o(),i("div",lt," Approved ")):a("",!0),t.status==="pending"?(o(),i("div",at," Pending ")):a("",!0),t.status==="completed"?(o(),i("div",nt," Completed ")):a("",!0),t.status==="ongoing"?(o(),i("div",rt," Ongoing ")):a("",!0)])]),e("td",dt,[t.status==="ongoing"?(o(),p(n(v),{key:0,color:"default",type:"button",onClick:b=>P(t)},{default:l(()=>[m(" Completed ")]),_:2},1032,["onClick"])):a("",!0),t.status!=="completed"&&t.status!=="cancelled"&&t.status!=="ongoing"?(o(),p(n(he),{key:1,placement:"bottom",text:"Select"},{default:l(()=>[e("ul",it,[t.status!=="approved"?(o(),i("li",ct,[e("label",null,[e("button",{type:"button",onClick:b=>W(t),class:"block w-full px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white"}," Approve ",8,ut)])])):a("",!0),t.status!=="approved"&&t.status!=="pending"?(o(),i("li",pt,[e("label",null,[e("button",{class:"block w-full px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white",type:"button",onClick:b=>R(t)}," Pending ",8,mt)])])):a("",!0),t.status!=="pending"?(o(),i("li",ft,[e("label",null,[e("button",{class:"block w-full px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white",type:"button",onClick:b=>X(t)}," Ongoing ",8,gt)])])):a("",!0),t.status!=="pending"?(o(),i("li",ht,[e("label",null,[e("button",{class:"block w-full px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white",type:"button",onClick:b=>P(t)}," Completed ",8,xt)])])):a("",!0),e("li",null,[e("label",null,[e("button",{class:"block w-full px-4 py-2 bg-red-400 rounded-b hover:bg-red-500",type:"button",onClick:b=>ee(t)}," Cancel ",8,_t)])])])]),_:2},1024)):a("",!0)])]))),128))])])])]),h.appointments.data.length?(o(),i("div",bt,[r(ue,{links:h.appointments.links},null,8,["links"])])):a("",!0)])]),Y.value&&x.value?(o(),p(n(T),{key:0,persistent:"",size:"lg"},{body:l(()=>[e("div",vt,[e("h1",yt,c(Y.value),1),r(pe,{class:"w-20 h-20"}),e("h2",kt,c(q.value),1),r(n(v),{color:"default",size:"lg",class:"w-full",onClick:N},{default:l(()=>[m("Got It")]),_:1})])]),_:1})):a("",!0),O.value&&x.value?(o(),p(n(T),{key:1,size:"md",persistent:""},{body:l(()=>[e("div",wt,[r(ce,{class:"w-12 h-12"}),e("h1",Ct,c(O.value),1),r(n(v),{color:"default",size:"lg",class:"w-full",onClick:N},{default:l(()=>[m("Got It")]),_:1})])]),_:1})):a("",!0),w.value?(o(),p(fe,{key:2,dentists:h.dentists,services:h.services,onClose:G},null,8,["dentists","services"])):a("",!0),_.value?(o(),p(me,{key:3,appointment:n(A),onCloseCancel:Z},null,8,["appointment"])):a("",!0)]),_:1}))}};export{Jt as default};
