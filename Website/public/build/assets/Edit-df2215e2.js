import{T as q,r as O,c as I,n as b,s as B,p as P,i,f as k,w as y,u as o,e as X,l as Y,o as u,d as e,m as a,v as c,A as f,t as p,h as m,q as x,F as S,j as D,C as _,g as n}from"./app-cdbf4484.js";import{s as F}from"./flowbite-vue-62d8acb5.js";import{h as V}from"./index-89e1533b.js";const A=["onSubmit"],T=e("div",{class:"items-center px-4"},[e("h1",{class:"text-xl font-semibold text-gray-800"}," Edit Patient Record ")],-1),L=e("h1",{class:"px-4 pb-1 text-gray-400"},"BASIC INFORMATION ",-1),R={class:"px-4"},$={class:"w-64 pb-2 max-md:w-full"},j=e("label",{for:"patientId",class:"block font-semibold"},[n("ID Number "),e("label",{class:"text-[red]"},"*")],-1),z={key:0,class:"px-2 text-sm text-red-600"},H={class:"flex flex-row gap-4 pb-2 max-md:flex-col"},J={class:"w-64 max-md:w-full"},G=e("label",{for:"lname",class:"block font-semibold"},[n("Last Name "),e("label",{class:"text-[red]"},"*")],-1),K={key:0,class:"px-2 text-sm text-red-600"},Q={class:"w-64 max-md:w-full"},W=e("label",{for:"fname",class:"block font-semibold"},[n("First Name "),e("label",{class:"text-[red]"},"*")],-1),Z={key:0,class:"px-2 text-sm text-red-600"},ee={class:"w-64 max-md:w-full"},se=e("label",{for:"mname",class:"block font-semibold"},"Middle Name",-1),oe={key:0,class:"px-2 text-sm text-red-600"},te={class:"flex flex-row gap-4 pb-2 max-md:flex-col max-md:pb-4"},le={class:"max-md:w-full"},de=e("label",{for:"school",class:"block font-semibold"},[n("School "),e("label",{class:"text-[red]"},"*")],-1),ae=e("option",{disabled:""}," Please select one ",-1),re={class:"w-64 max-md:w-full"},ne=e("label",{for:"course",class:"block font-semibold"},[n("Course "),e("label",{class:"text-[red]"},"*")],-1),ie=e("option",{disabled:""}," Please select one ",-1),ue=["value"],ce={class:""},me=e("label",{for:"year",class:"block font-semibold"},[n("Year level "),e("label",{class:"text-[red]"},"*")],-1),_e=e("option",{disabled:""}," Please select one ",-1),pe=e("option",null,"1st Year",-1),be=e("option",null,"2nd Year",-1),he=e("option",null,"3rd Year",-1),fe=e("option",null,"4th Year",-1),xe=[_e,pe,be,he,fe],ye={class:"flex flex-row pb-2 gap-72 max-md:flex-col max-md:gap-4"},ge={class:"w-64 max-md:w-full"},we=e("label",{for:"age",class:"block font-semibold"},[n("Complete Address "),e("label",{class:"text-[red]"},"*")],-1),ve={key:0,class:"px-2 text-sm text-red-600"},ke={class:"w-64 max-md:w-full"},Ye=e("label",{for:"contactNumber",class:"block font-semibold"},[n("Contact Number "),e("label",{class:"text-[red]"},"*")],-1),Se={key:0,class:"px-2 text-sm text-red-600"},De={class:"flex flex-row gap-4 pb-2 max-md:flex-col"},Ve={class:""},Ce=e("label",{for:"sex",class:"block font-semibold"},[n("Sex "),e("label",{class:"text-[red]"},"*")],-1),Ue=e("option",{disabled:"",value:""}," Please select one ",-1),Ee=e("option",null,"male",-1),Ne=e("option",null,"female",-1),Me=[Ue,Ee,Ne],qe={class:""},Oe=e("label",{for:"civilStatus",class:"block font-semibold"},[n("Civil Status "),e("label",{class:"text-[red]"},"*")],-1),Ie=e("option",{disabled:""}," Please select one ",-1),Be=e("option",null,"single",-1),Pe=e("option",null,"married",-1),Xe=e("option",null,"separated",-1),Fe=e("option",null,"divorced",-1),Ae=e("option",null,"widowed",-1),Te=[Ie,Be,Pe,Xe,Fe,Ae],Le={class:""},Re=e("label",{for:"birth_date",class:"block font-semibold after:whitespace-nowrap"},[n("Date of Birth "),e("label",{class:"text-[red]"},"*")],-1),$e=["value","onClick"],je={class:""},ze=e("label",{for:"age",class:"block font-semibold"},"Age",-1),He=e("h1",{class:"px-4 pt-3 pb-1 text-gray-400"},"MEDICAL HISTORY",-1),Je={class:"px-4"},Ge={class:"flex flex-row gap-6 pb-2 max-md:flex-col max-md:gap-4"},Ke={class:""},Qe=e("label",{for:"allergy",class:"block font-semibold"},"Allergies",-1),We={class:""},Ze=e("label",{for:"otherConditions",class:"block font-semibold"},"Other Conditions",-1),es={class:"flex flex-row gap-6 pb-3 max-md:flex-col max-md:gap-4"},ss={class:"w-52 max-md:w-full"},os=e("label",{for:"Diabetes",class:"block font-semibold"},"Diabetes",-1),ts={class:"block font-semibold"},ls={class:"block font-semibold"},ds={class:"w-52 max-md:w-full"},as=e("label",{for:"bloodDyscrasia",class:"block font-semibold"}," Blood Dyscrasia ",-1),rs={class:"block font-semibold"},ns={class:"block font-semibold"},is={class:"w-52 max-md:w-full"},us=e("label",{for:"cnsDisorder",class:"block font-semibold"},"CNS Disorder",-1),cs={class:"block font-semibold"},ms={class:"block font-semibold"},_s={class:"flex flex-row gap-6 max-md:flex-col max-md:gap-4"},ps={class:"w-52 max-md:w-full"},bs=e("label",{for:"cardiovascularDisease",class:"block font-semibold"}," Cardiovascular Disease ",-1),hs={class:"block font-semibold"},fs={class:"block font-semibold"},xs={class:"w-52 max-md:w-full"},ys=e("label",{for:"toothSurgery",class:"block font-semibold"}," Tooth Related Surgery ",-1),gs={class:"block font-semibold"},ws={class:"block font-semibold"},vs=e("button",{type:"submit",as:"button",class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800 mr-3 mb-3"}," Save Changes ",-1),Ds={__name:"Edit",props:{student:{type:Object,default:()=>({})},schools:{type:Object,default:()=>({})}},setup(w,{emit:C}){const r=w,v=()=>{C("close")},s=q({id_number:r.student.id_number,last_name:r.student.last_name,first_name:r.student.first_name,middle_name:r.student.middle_name,birth_date:r.student.birth_date,age:r.student.age,sex:r.student.sex,contact_number:r.student.contact_number,address:r.student.address,civil_status:r.student.civil_status,school:O(r.student.school),course_name:r.student.course,course:null,year:r.student.year,allergies:r.student.medicals.allergies,diabetes:r.student.medicals.diabetes,blood_dyscrasia:r.student.medicals.blood_dyscrasia,cns_disorder:r.student.medicals.cns_disorder,cardiovascular_disease:r.student.medicals.cardiovascular_disease,tooth_related_surgery:r.student.medicals.tooth_related_surgery,other_conditions:r.student.medicals.other_conditions}),U=I(()=>{let d={};return r.schools.forEach(t=>{d[t.school]=t.id}),d}),g=async()=>{try{const d=U.value[s.school];if(d){const t=await Y.get(route("assistant.student.course.index",d));s.course=t.data,s.course_id=t.data.length>0?t.data[0].id:null}}catch(d){console.log(d)}};b(s.school,g),B(g);const E=d=>d?V(d).format("DD/MM/YYYY"):"";b(()=>s.birth_date,d=>{if(d){const t=new Date(d),h=new Date;let l=h.getFullYear()-t.getFullYear();(h.getMonth()<t.getMonth()||h.getMonth()===t.getMonth()&&h.getDate()<t.getDate())&&l--,s.age=l.toString()}else s.age=null}),b(()=>s.last_name,d=>{s.errors.last_name=d?/^\d+$/.test(d)?"Last name should only contain letters":"":"Last name is required"}),b(()=>s.first_name,d=>{s.errors.first_name=d?/^\d+$/.test(d)?"First name should only contain letters":"":"First name is required"}),b(()=>s.contact_number,d=>{s.errors.contact_number=d?/^[09]\d+$/.test(d)?/^\D+$/.test(d)?"Contact number should only contain numbers":"":"Contact number should start with 09":"Contact Number is required"}),b(()=>s.id_number,async d=>{if(s.errors.id_number=d?/^\D+$/.test(d)?"ID number should only contain numbers":"":"ID number is required",!s.errors.id_number)try{const{data:t}=await Y.get(route("assistant.student.check",d));t.exists&&(s.errors.id_number="ID number is already taken")}catch(t){console.error(t)}}),b(()=>s.address,d=>{s.errors.address=d?"":"Complete address is required"});const N=async()=>{s.birth_date=s.birth_date?V(s.birth_date).format("YYYY-MM-DD"):null,s.put(route("assistant.student.update",r.student.id_number),{preserveScroll:!1,preserveState:!1})};return(d,t)=>{const h=P("VDatePicker");return u(),i("form",{onSubmit:X(N,["prevent"])},[k(o(F),{size:"4xl",class:"md:flex md:space-y-0 md:space-x-4",onClose:v},{header:y(()=>[T]),body:y(()=>[L,e("div",R,[e("div",$,[j,a(e("input",{id:"patientId","onUpdate:modelValue":t[0]||(t[0]=l=>o(s).id_number=l),type:"text",class:f(["w-[15.6em] h-10 rounded-md drop-shadow-lg",{"border-red-600":o(s).errors.id_number}]),placeholder:"ex. 2201234",required:""},null,2),[[c,o(s).id_number,void 0,{number:!0}]]),o(s).errors.id_number?(u(),i("div",z,p(o(s).errors.id_number),1)):m("",!0)]),e("div",H,[e("div",J,[G,a(e("input",{id:"lname","onUpdate:modelValue":t[1]||(t[1]=l=>o(s).last_name=l),type:"text",class:f(["w-full h-10 rounded-md drop-shadow-lg",{"border-red-600":o(s).errors.last_name}]),placeholder:"Dela Cruz",required:""},null,2),[[c,o(s).last_name]]),o(s).errors.last_name?(u(),i("div",K,p(o(s).errors.last_name),1)):m("",!0)]),e("div",Q,[W,a(e("input",{id:"fname","onUpdate:modelValue":t[2]||(t[2]=l=>o(s).first_name=l),type:"text",class:f(["w-full h-10 rounded-md drop-shadow-lg",{"border-red-600":o(s).errors.first_name}]),placeholder:"Juan",required:""},null,2),[[c,o(s).first_name]]),o(s).errors.first_name?(u(),i("div",Z,p(o(s).errors.first_name),1)):m("",!0)]),e("div",ee,[se,a(e("input",{id:"mname","onUpdate:modelValue":t[3]||(t[3]=l=>o(s).middle_name=l),type:"text",class:"w-full h-10 rounded-md drop-shadow-lg",placeholder:"Bautista"},null,512),[[c,o(s).middle_name]]),o(s).errors.middle_name?(u(),i("div",oe,p(o(s).errors.middle_name),1)):m("",!0)])]),e("div",te,[e("div",le,[de,a(e("select",{class:"h-10 rounded-md drop-shadow-lg max-md:w-full","onUpdate:modelValue":t[4]||(t[4]=l=>o(s).school=l),onChange:g,required:""},[ae,(u(!0),i(S,null,D(w.schools,l=>(u(),i("option",{key:l.id},p(l.school),1))),128))],544),[[x,o(s).school]])]),e("div",re,[ne,a(e("select",{class:"w-64 h-10 rounded-md drop-shadow-lg max-md:w-full","onUpdate:modelValue":t[5]||(t[5]=l=>o(s).course_name=l),required:""},[ie,(u(!0),i(S,null,D(o(s).course,l=>(u(),i("option",{key:l.course,value:l.course},p(l.course),9,ue))),128))],512),[[x,o(s).course_name]])]),e("div",ce,[me,a(e("select",{class:"rounded-md h-10 drop-shadow-lg w-[8.6em] max-md:w-full","onUpdate:modelValue":t[6]||(t[6]=l=>o(s).year=l),required:""},xe,512),[[x,o(s).year]])])]),e("div",ye,[e("div",ge,[we,a(e("input",{id:"age","onUpdate:modelValue":t[7]||(t[7]=l=>o(s).address=l),type:"text",class:f(["h-10 rounded-md drop-shadow-lg w-[33em] max-md:w-full",{"border-red-600":o(s).errors.address}]),placeholder:"Street/Unit/Bldg/Village, Barangay, City/Municipality, Province",required:""},null,2),[[c,o(s).address]]),o(s).errors.address?(u(),i("div",ve,p(o(s).errors.address),1)):m("",!0)]),e("div",ke,[Ye,a(e("input",{id:"contactNumber","onUpdate:modelValue":t[8]||(t[8]=l=>o(s).contact_number=l),type:"tel",class:f(["h-10 rounded-md drop-shadow-lg w-[15em] max-md:w-full",{"border-red-600":o(s).errors.contact_number}]),placeholder:"09XXXXXXXXX",required:""},null,2),[[c,o(s).contact_number]]),o(s).errors.contact_number?(u(),i("div",Se,p(o(s).errors.contact_number),1)):m("",!0)])]),e("div",De,[e("div",Ve,[Ce,a(e("select",{class:"h-10 rounded-md drop-shadow-lg w-[8em] max-md:w-full","onUpdate:modelValue":t[9]||(t[9]=l=>o(s).sex=l),required:""},Me,512),[[x,o(s).sex]])]),e("div",qe,[Oe,a(e("select",{class:"h-10 rounded-md drop-shadow-lg w-[11em] max-sm:w-full","onUpdate:modelValue":t[10]||(t[10]=l=>o(s).civil_status=l),required:""},Te,512),[[x,o(s).civil_status]])]),e("div",Le,[Re,k(h,{id:"birth_date",modelValue:o(s).birth_date,"onUpdate:modelValue":t[11]||(t[11]=l=>o(s).birth_date=l)},{default:y(({togglePopover:l,inputValue:M})=>[e("input",{value:E(M),class:"border border-black w-[25rem] px-3 py-2 rounded-md drop-shadow-lg",placeholder:"DD/MM/YYYY",onClick:l},null,8,$e)]),_:1},8,["modelValue"])]),e("div",je,[ze,a(e("input",{id:"age","onUpdate:modelValue":t[12]||(t[12]=l=>o(s).age=l),type:"text",class:"h-10 rounded-md drop-shadow-lg w-[4em] max-sm:w-full",disabled:""},null,512),[[c,o(s).age]])])])]),He,e("div",Je,[e("div",Ge,[e("div",Ke,[Qe,a(e("input",{id:"allergy","onUpdate:modelValue":t[13]||(t[13]=l=>o(s).allergies=l),type:"text",class:"h-10 rounded-md drop-shadow-lg w-[13rem] max-sm:w-full",placeholder:"type here"},null,512),[[c,o(s).allergies]])]),e("div",We,[Ze,a(e("input",{id:"otherConditions","onUpdate:modelValue":t[14]||(t[14]=l=>o(s).other_conditions=l),type:"text",class:"h-10 rounded-md drop-shadow-lg w-[13rem] max-sm:w-full",placeholder:"type here"},null,512),[[c,o(s).other_conditions]])])]),e("div",es,[e("div",ss,[os,e("label",ts,[a(e("input",{"onUpdate:modelValue":t[15]||(t[15]=l=>o(s).diabetes_option=l),name:"diabetes_option",id:"no",type:"radio",class:"",value:"NO",checked:""},null,512),[[_,o(s).diabetes_option]]),n(" NO ")]),e("label",ls,[a(e("input",{"onUpdate:modelValue":t[16]||(t[16]=l=>o(s).diabetes_option=l),name:"diabetes_option",id:"yes",type:"radio",class:"",value:"YES"},null,512),[[_,o(s).diabetes_option]]),n(" YES ")]),o(s).diabetes_option==="YES"?a((u(),i("input",{key:0,id:"Diabetes","onUpdate:modelValue":t[17]||(t[17]=l=>o(s).diabetes=l),type:"text",class:"h-10 rounded-md drop-shadow-lg w-[13rem] mt-1 max-sm:w-full",placeholder:"if YES type here"},null,512)),[[c,o(s).diabetes]]):m("",!0)]),e("div",ds,[as,e("label",rs,[a(e("input",{"onUpdate:modelValue":t[18]||(t[18]=l=>o(s).blood_dyscrasia_option=l),name:"blood_dysc_option",id:"no",type:"radio",class:"",value:"NO",checked:""},null,512),[[_,o(s).blood_dyscrasia_option]]),n(" NO ")]),e("label",ns,[a(e("input",{"onUpdate:modelValue":t[19]||(t[19]=l=>o(s).blood_dyscrasia_option=l),name:"blood_dysc_option",id:"yes",type:"radio",class:"",value:"YES"},null,512),[[_,o(s).blood_dyscrasia_option]]),n(" YES ")]),o(s).blood_dyscrasia_option==="YES"?a((u(),i("input",{key:0,id:"bloodDyscrasia","onUpdate:modelValue":t[20]||(t[20]=l=>o(s).blood_dyscrasia=l),type:"text",class:"h-10 mt-1 rounded-md drop-shadow-lg w-[13rem] max-sm:w-full",placeholder:"if YES type here"},null,512)),[[c,o(s).blood_dyscrasia]]):m("",!0)]),e("div",is,[us,e("label",cs,[a(e("input",{"onUpdate:modelValue":t[21]||(t[21]=l=>o(s).cns_disorder_option=l),name:"cns_option",id:"no",type:"radio",class:"",value:"NO",checked:""},null,512),[[_,o(s).cns_disorder_option]]),n(" NO ")]),e("label",ms,[a(e("input",{"onUpdate:modelValue":t[22]||(t[22]=l=>o(s).cns_disorder_option=l),name:"cns_option",id:"yes",type:"radio",class:"",value:"YES"},null,512),[[_,o(s).cns_disorder_option]]),n(" YES ")]),o(s).cns_disorder_option==="YES"?a((u(),i("input",{key:0,id:"cnsDisorder","onUpdate:modelValue":t[23]||(t[23]=l=>o(s).cns_disorder=l),type:"text",class:"h-10 mt-1 rounded-md drop-shadow-lg w-[13rem] max-sm:w-full",placeholder:"if YES type here"},null,512)),[[c,o(s).cns_disorder]]):m("",!0)])]),e("div",_s,[e("div",ps,[bs,e("label",hs,[a(e("input",{name:"cardio_option",id:"no",type:"radio",class:"","onUpdate:modelValue":t[24]||(t[24]=l=>o(s).cardiovascular_disease_option=l),value:"NO",checked:""},null,512),[[_,o(s).cardiovascular_disease_option]]),n(" NO ")]),e("label",fs,[a(e("input",{name:"cardio_option",id:"yes",type:"radio",class:"","onUpdate:modelValue":t[25]||(t[25]=l=>o(s).cardiovascular_disease_option=l),value:"YES"},null,512),[[_,o(s).cardiovascular_disease_option]]),n(" YES ")]),o(s).cardiovascular_disease_option==="YES"?a((u(),i("input",{key:0,id:"cardiovascularDisease","onUpdate:modelValue":t[26]||(t[26]=l=>o(s).cardiovascular_disease=l),type:"text",class:"h-10 rounded-md drop-shadow-lg w-[13rem] mt-1 max-sm:w-full",placeholder:"if YES type here"},null,512)),[[c,o(s).cardiovascular_disease]]):m("",!0)]),e("div",xs,[ys,e("label",gs,[a(e("input",{name:"tooth_option","onUpdate:modelValue":t[27]||(t[27]=l=>o(s).tooth_related_surgery_option=l),id:"no",type:"radio",class:"",value:"NO",checked:""},null,512),[[_,o(s).tooth_related_surgery_option]]),n(" NO ")]),e("label",ws,[a(e("input",{name:"tooth_option","onUpdate:modelValue":t[28]||(t[28]=l=>o(s).tooth_related_surgery_option=l),id:"yes",type:"radio",class:"",value:"YES"},null,512),[[_,o(s).tooth_related_surgery_option]]),n(" YES ")]),o(s).tooth_related_surgery_option==="YES"?a((u(),i("input",{key:0,id:"toothSurgery","onUpdate:modelValue":t[29]||(t[29]=l=>o(s).tooth_related_surgery=l),type:"text",class:"h-10 rounded-md drop-shadow-lg w-[13rem] mt-1 max-sm:w-full",placeholder:"if YES type here"},null,512)),[[c,o(s).tooth_related_surgery]]):m("",!0)])])])]),footer:y(()=>[e("div",{class:"flex justify-center max-md:flex-col-reverse"},[e("button",{onClick:v,type:"button",class:"text-gray-500 bg-white hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-blue-300 rounded-lg border border-gray-200 text-sm font-medium px-5 py-2.5 hover:text-gray-900 focus:z-10 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-500 dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-gray-600 mr-3 mb-3"}," Cancel "),vs])]),_:1})],40,A)}}};export{Ds as default};
