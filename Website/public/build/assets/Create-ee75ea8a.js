import{T as O,r as A,c as B,n as b,p as F,i as a,f as k,w as x,u as o,e as y,o as n,d as s,m as r,v as u,B as Y,A as h,t as m,h as c,q as f,F as D,j as S,C as _,g as i,l as C}from"./app-cdbf4484.js";import{s as P}from"./flowbite-vue-62d8acb5.js";import{h as U}from"./index-89e1533b.js";const X=["onSubmit"],$=s("div",{class:"items-center px-4"},[s("h1",{class:"text-xl font-semibold text-gray-800"}," Add Patient Record ")],-1),L=s("h2",{class:"px-4 pb-1 text-gray-400"}," BASIC INFORMATION ",-1),T={class:"px-4"},R={class:"w-64 pb-1 max-sm:w-full"},j=s("label",{for:"patientId",class:"block font-semibold"},[i("ID Number "),s("label",{class:"text-[red]"},"*")],-1),z={key:0,class:"px-2 text-sm text-red-600"},K={class:"flex flex-row gap-4 pb-2 max-sm:flex-col"},H={class:"w-64 max-sm:w-full"},J=s("label",{for:"lname",class:"block font-semibold"},[i("Last Name "),s("label",{class:"text-[red]"},"*")],-1),W={key:0,class:"px-2 text-sm text-red-600"},G={class:"w-64 max-sm:w-full"},Q=s("label",{for:"fname",class:"block font-semibold"},[i(" First Name "),s("label",{class:"text-[red]"},"*")],-1),Z={key:0,class:"px-2 text-sm text-red-600"},ee={class:"w-64 max-sm:w-full"},se=s("label",{for:"mname",class:"block font-semibold"},"Middle Name",-1),oe={key:0,class:"px-2 text-sm text-red-600"},te={class:"flex flex-row gap-4 pb-2 max-sm:flex-col"},le={class:"max-sm:w-full"},de=s("label",{for:"school",class:"block font-semibold"},[i("School "),s("label",{class:"text-[red]"},"*")],-1),re=s("option",{disabled:""}," Please select one ",-1),ae={key:0,class:"text-red-600"},ne={class:"w-64 max-sm:w-full"},ie=s("label",{for:"course",class:"block font-semibold"},[i("Course "),s("label",{class:"text-[red]"},"*")],-1),ce=s("option",{disabled:""}," Please select one ",-1),ue=["value"],me={key:0,class:"text-red-600"},_e={class:"max-sm:w-full"},pe=s("label",{for:"year",class:"block font-semibold"},[i("Year level "),s("label",{class:"text-[red]"},"*")],-1),be=s("option",{disabled:""}," Please select one ",-1),he=s("option",null,"1st Year",-1),fe=s("option",null,"2nd Year",-1),xe=s("option",null,"3rd Year",-1),ye=s("option",null,"4th Year",-1),ge=s("option",null,"5th Year",-1),ve=[be,he,fe,xe,ye,ge],we={key:0,class:"text-red-600"},ke={class:"flex flex-row pb-2 gap-72 max-sm:flex-col max-sm:gap-4"},Ye={class:"w-64 max-sm:w-full"},De=s("label",{for:"age",class:"block font-semibold"},[i("Complete Address "),s("label",{class:"text-[red]"},"*")],-1),Se={key:0,class:"px-2 text-sm text-red-600"},Ce={class:"w-64 max-sm:w-full"},Ue=s("label",{for:"contactNumber",class:"block font-semibold"},[i("Contact Number "),s("label",{class:"text-[red]"},"*")],-1),Ve={key:0,class:"px-2 text-sm text-red-600"},Ne={class:"flex flex-row gap-4 pb-2 max-sm:flex-col"},Me={class:""},Ee=s("label",{for:"sex",class:"block font-semibold"},[i("Sex "),s("label",{class:"text-[red]"},"*")],-1),qe=s("option",{disabled:"",value:""}," Please select one ",-1),Ie=s("option",null,"Male",-1),Oe=s("option",null,"Female",-1),Ae=[qe,Ie,Oe],Be={key:0,class:"text-red-600"},Fe={class:""},Pe=s("label",{for:"civilStatus",class:"block font-semibold"},[i("Civil Status "),s("label",{class:"text-[red]"},"*")],-1),Xe=s("option",{disabled:""}," Please select one ",-1),$e=s("option",null,"Single",-1),Le=s("option",null,"Married",-1),Te=s("option",null,"Separated",-1),Re=s("option",null,"Divorced",-1),je=s("option",null,"Widowed",-1),ze=[Xe,$e,Le,Te,Re,je],Ke={key:0,class:"text-red-600"},He={class:""},Je=s("label",{for:"birth_date",class:"block font-semibold after:whitespace-nowrap"},[i("Date of Birth "),s("label",{class:"text-[red]"},"*")],-1),We=["value","onClick"],Ge={class:""},Qe=s("label",{for:"age",class:"block font-semibold"},"Age",-1),Ze={key:0,class:"text-red-600"},es=s("h2",{class:"px-4 pt-3 pb-1 text-gray-400"},"MEDICAL HISTORY",-1),ss={class:"px-4"},os={class:"flex flex-row gap-6 pb-2 max-sm:flex-col"},ts={class:""},ls=s("label",{for:"allergy",class:"block font-semibold"},"Allergies",-1),ds={class:"mb-4"},rs=s("label",{for:"otherConditions",class:"block font-semibold"},"Other Conditions",-1),as={class:"flex flex-row gap-6 pb-3 max-sm:flex-col"},ns={class:"w-52 max-sm:w-full"},is=s("label",{for:"Diabetes",class:"block font-semibold"},"Diabetes",-1),cs={class:"block font-semibold"},us={class:"block font-semibold"},ms={class:"w-52 max-sm:w-full"},_s=s("label",{for:"bloodDyscrasia",class:"block font-semibold"}," Blood Dyscrasia ",-1),ps={class:"block font-semibold"},bs={class:"block font-semibold"},hs={class:"w-52 max-sm:w-full"},fs=s("label",{for:"cnsDisorder",class:"block font-semibold"},"CNS Disorder",-1),xs={class:"block font-semibold"},ys={class:"block font-semibold"},gs={class:"flex flex-row gap-6 max-sm:flex-col"},vs={class:"w-52 max-sm:w-full"},ws=s("label",{for:"cardiovascularDisease",class:"block font-semibold"}," Cardiovascular Disease ",-1),ks={class:"block font-semibold"},Ys={class:"block font-semibold"},Ds={class:"w-52 max-sm:w-full"},Ss=s("label",{for:"toothSurgery",class:"block font-semibold"}," Tooth Related Surgery ",-1),Cs={class:"block font-semibold"},Us={class:"block font-semibold"},Vs=s("button",{type:"submit",as:"button",class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800 mr-3 mb-3"}," Add Patient ",-1),qs={__name:"Create",props:{students:{type:Object,default:()=>({})},schools:{type:Object,default:()=>({})}},setup(g,{emit:V}){const N=g,v=()=>{V("close")},e=O({id_number:null,last_name:null,first_name:null,middle_name:null,sex:null,address:null,contact_number:null,civil_status:null,school:A(null),course_id:null,course:null,year:null,age:null,birth_date:null,allergies:"none",diabetes:"none",blood_dyscrasia:"none",cns_disorder:"none",cardiovascular_disease:"none",tooth_related_surgery:"none",other_conditions:"none"}),M=B(()=>{let d={};return N.schools.forEach(t=>{d[t.school]=t.id}),d}),w=async()=>{var d;try{const t=M.value[e.school];if(t){const p=await C.get(`/assistant/student/courses/${t}`);e.course=p.data,e.course_id=(d=p.data)==null?void 0:d.id}}catch(t){console.log(t)}};b(e.school,w);const E=d=>d?U(d).format("DD/MM/YYYY"):"";b(()=>e.birth_date,d=>{if(d){const t=new Date(d),p=new Date;let l=p.getFullYear()-t.getFullYear();(p.getMonth()<t.getMonth()||p.getMonth()===t.getMonth()&&p.getDate()<t.getDate())&&l--,e.age=l.toString()}else e.age=null}),b(()=>e.last_name,d=>{e.errors.last_name=d?/^\d+$/.test(d)?"Last name should only contain letters":/^\s/.test(d)?"Last name must start with a letter":"":"Last name is required"}),b(()=>e.first_name,d=>{e.errors.first_name=d?/^\d+$/.test(d)?"First name should only contain letters":/^\s/.test(d)?"First name must start with a letter":"":"First name is required"}),b(()=>e.middle_name,d=>{e.errors.middle_name=d?/^\d+$/.test(d)?"Middle name should only contain letters":/^\s/.test(d)?"Middle name must start with a letter":"":""}),b(()=>e.address,d=>{e.errors.address=d?/^\s/.test(d)?"Address must start with a letter or number":"":"Complete address is required"}),b(()=>e.contact_number,d=>{e.errors.contact_number=d?/^[09]\d{10}$/.test(d)?/^\D+$/.test(d)?"Contact number should only contain numbers":"":"Contact number should start with 09 and be exactly 11 digits":"Contact Number is required"}),b(()=>e.id_number,async d=>{if(e.errors.id_number=d?/^\D+$/.test(d)?"ID number should only contain numbers":"":"ID number is required",!e.errors.id_number)try{const{data:t}=await C.get(route("assistant.student.check",d));t.exists&&(e.errors.id_number="ID number is already taken")}catch(t){console.error(t)}}),b(()=>e.address,d=>{e.errors.address=d?"":"Complete address is required"});const q=async()=>{e.birth_date=e.birth_date?U(e.birth_date).format("YYYY-MM-DD"):null,e.post(route("assistant.student.store"),{preserveScroll:!1,preserveState:!1})};return(d,t)=>{const p=F("VDatePicker");return n(),a("form",{onSubmit:y(q,["prevent"])},[k(o(P),{size:"4xl",class:"md:flex md:space-y-0 md:space-x-4",onClose:v},{header:x(()=>[$]),body:x(()=>[L,s("div",T,[s("div",R,[j,r(s("input",{onKeydown:t[0]||(t[0]=Y(y(()=>{},["prevent"]),["space"])),id:"patientId","onUpdate:modelValue":t[1]||(t[1]=l=>o(e).id_number=l),type:"text",class:h(["w-[15.7em] h-10 rounded-md drop-shadow-lg max-sm:w-full",{"border-red-600":o(e).errors.id_number}]),placeholder:"ex. 2201234",required:""},null,34),[[u,o(e).id_number,void 0,{number:!0}]]),o(e).errors.id_number?(n(),a("div",z,m(o(e).errors.id_number),1)):c("",!0)]),s("div",K,[s("div",H,[J,r(s("input",{id:"lname","onUpdate:modelValue":t[2]||(t[2]=l=>o(e).last_name=l),type:"text",class:h(["w-full h-10 rounded-md drop-shadow-lg",{"border-red-600":o(e).errors.last_name}]),placeholder:"Dela Cruz",required:""},null,2),[[u,o(e).last_name]]),o(e).errors.last_name?(n(),a("div",W,m(o(e).errors.last_name),1)):c("",!0)]),s("div",G,[Q,r(s("input",{id:"fname","onUpdate:modelValue":t[3]||(t[3]=l=>o(e).first_name=l),type:"text",class:h(["w-full h-10 rounded-md drop-shadow-lg",{"border-red-600":o(e).errors.first_name}]),placeholder:"Juan",required:""},null,2),[[u,o(e).first_name]]),o(e).errors.first_name?(n(),a("div",Z,m(o(e).errors.first_name),1)):c("",!0)]),s("div",ee,[se,r(s("input",{id:"mname","onUpdate:modelValue":t[4]||(t[4]=l=>o(e).middle_name=l),type:"text",class:"w-full h-10 rounded-md drop-shadow-lg",placeholder:"Bautista"},null,512),[[u,o(e).middle_name]]),o(e).errors.middle_name?(n(),a("div",oe,m(o(e).errors.middle_name),1)):c("",!0)])]),s("div",te,[s("div",le,[de,r(s("select",{class:"h-10 rounded-md drop-shadow-lg max-sm:w-full","onUpdate:modelValue":t[5]||(t[5]=l=>o(e).school=l),onChange:w,required:""},[re,(n(!0),a(D,null,S(g.schools,l=>(n(),a("option",{key:l.id},m(l.school),1))),128))],544),[[f,o(e).school]]),o(e).errors.school?(n(),a("div",ae,m(o(e).errors.school),1)):c("",!0)]),s("div",ne,[ie,r(s("select",{required:"",class:"w-64 h-10 rounded-md drop-shadow-lg max-sm:w-full","onUpdate:modelValue":t[6]||(t[6]=l=>o(e).course_id=l)},[ce,(n(!0),a(D,null,S(o(e).course,l=>(n(),a("option",{key:l.id,value:l.id},m(l.course),9,ue))),128))],512),[[f,o(e).course_id]]),o(e).errors.course?(n(),a("div",me,m(o(e).errors.course),1)):c("",!0)]),s("div",_e,[pe,r(s("select",{class:"rounded-md h-10 drop-shadow-lg w-[8.6em] max-sm:w-full","onUpdate:modelValue":t[7]||(t[7]=l=>o(e).year=l),required:""},ve,512),[[f,o(e).year]]),o(e).errors.year?(n(),a("div",we,m(o(e).errors.year),1)):c("",!0)])]),s("div",ke,[s("div",Ye,[De,r(s("input",{id:"age","onUpdate:modelValue":t[8]||(t[8]=l=>o(e).address=l),type:"text",class:h(["h-10 rounded-md drop-shadow-lg w-[33em] max-sm:w-full",{"border-red-600":o(e).errors.address}]),placeholder:"Street/Unit/Bldg/Village, Barangay, City/Municipality, Province",required:""},null,2),[[u,o(e).address]]),o(e).errors.address?(n(),a("div",Se,m(o(e).errors.address),1)):c("",!0)]),s("div",Ce,[Ue,r(s("input",{onKeydown:t[9]||(t[9]=Y(y(()=>{},["prevent"]),["space"])),id:"contactNumber","onUpdate:modelValue":t[10]||(t[10]=l=>o(e).contact_number=l),type:"tel",class:h(["h-10 rounded-md drop-shadow-lg max-sm:w-full",{"border-red-600":o(e).errors.contact_number}]),placeholder:"09XXXXXXXXX",required:""},null,34),[[u,o(e).contact_number]]),o(e).errors.contact_number?(n(),a("div",Ve,m(o(e).errors.contact_number),1)):c("",!0)])]),s("div",Ne,[s("div",Me,[Ee,r(s("select",{class:"h-10 rounded-md drop-shadow-lg w-[8em] max-sm:w-full","onUpdate:modelValue":t[11]||(t[11]=l=>o(e).sex=l),required:""},Ae,512),[[f,o(e).sex]]),o(e).errors.sex?(n(),a("div",Be,m(o(e).errors.sex),1)):c("",!0)]),s("div",Fe,[Pe,r(s("select",{class:"h-10 rounded-md drop-shadow-lg w-[11em] max-sm:w-full","onUpdate:modelValue":t[12]||(t[12]=l=>o(e).civil_status=l),required:""},ze,512),[[f,o(e).civil_status]]),o(e).errors.civil_status?(n(),a("div",Ke,m(o(e).errors.civil_status),1)):c("",!0)]),s("div",He,[Je,k(p,{id:"birth_date",modelValue:o(e).birth_date,"onUpdate:modelValue":t[13]||(t[13]=l=>o(e).birth_date=l)},{default:x(({togglePopover:l,inputValue:I})=>[s("input",{value:E(I),class:"border border-black w-[25rem] px-3 py-2 rounded-md drop-shadow-lg",placeholder:"DD/MM/YYYY",onClick:l},null,8,We)]),_:1},8,["modelValue"])]),s("div",Ge,[Qe,r(s("input",{id:"age","onUpdate:modelValue":t[14]||(t[14]=l=>o(e).age=l),type:"text",class:"h-10 rounded-md drop-shadow-lg w-[4em] max-sm:w-full",disabled:""},null,512),[[u,o(e).age]]),o(e).errors.age?(n(),a("div",Ze,m(o(e).errors.age),1)):c("",!0)])])]),es,s("div",ss,[s("div",os,[s("div",ts,[ls,r(s("input",{id:"allergy","onUpdate:modelValue":t[15]||(t[15]=l=>o(e).allergies=l),type:"text",class:"h-10 rounded-md drop-shadow-lg w-[13rem] max-sm:w-full",placeholder:"type here"},null,512),[[u,o(e).allergies]])]),s("div",ds,[rs,r(s("input",{id:"otherConditions","onUpdate:modelValue":t[16]||(t[16]=l=>o(e).other_conditions=l),type:"text",class:"h-10 rounded-md drop-shadow-lg w-[13rem] max-sm:w-full",placeholder:"type here"},null,512),[[u,o(e).other_conditions]])])]),s("div",as,[s("div",ns,[is,s("label",cs,[r(s("input",{"onUpdate:modelValue":t[17]||(t[17]=l=>o(e).diabetes_option=l),name:"diabetes_option",id:"no",type:"radio",class:"",value:"NO",checked:""},null,512),[[_,o(e).diabetes_option]]),i(" No ")]),s("label",us,[r(s("input",{"onUpdate:modelValue":t[18]||(t[18]=l=>o(e).diabetes_option=l),name:"diabetes_option",id:"yes",type:"radio",class:"",value:"YES"},null,512),[[_,o(e).diabetes_option]]),i(" Yes ")]),o(e).diabetes_option==="YES"?r((n(),a("input",{key:0,id:"Diabetes","onUpdate:modelValue":t[19]||(t[19]=l=>o(e).diabetes=l),type:"text",class:"h-10 rounded-md drop-shadow-lg w-[13rem] mt-1 max-sm:w-full",placeholder:"if YES type here"},null,512)),[[u,o(e).diabetes]]):c("",!0)]),s("div",ms,[_s,s("label",ps,[r(s("input",{"onUpdate:modelValue":t[20]||(t[20]=l=>o(e).blood_dyscrasia_option=l),name:"blood_dysc_option",id:"no",type:"radio",class:"",value:"NO",checked:""},null,512),[[_,o(e).blood_dyscrasia_option]]),i(" No ")]),s("label",bs,[r(s("input",{"onUpdate:modelValue":t[21]||(t[21]=l=>o(e).blood_dyscrasia_option=l),name:"blood_dysc_option",id:"yes",type:"radio",class:"",value:"YES"},null,512),[[_,o(e).blood_dyscrasia_option]]),i(" Yes ")]),o(e).blood_dyscrasia_option==="YES"?r((n(),a("input",{key:0,id:"bloodDyscrasia","onUpdate:modelValue":t[22]||(t[22]=l=>o(e).blood_dyscrasia=l),type:"text",class:"h-10 mt-1 rounded-md drop-shadow-lg w-[13rem] max-sm:w-full",placeholder:"if YES type here"},null,512)),[[u,o(e).blood_dyscrasia]]):c("",!0)]),s("div",hs,[fs,s("label",xs,[r(s("input",{"onUpdate:modelValue":t[23]||(t[23]=l=>o(e).cns_disorder_option=l),name:"cns_option",id:"no",type:"radio",class:"",value:"NO",checked:""},null,512),[[_,o(e).cns_disorder_option]]),i(" No ")]),s("label",ys,[r(s("input",{"onUpdate:modelValue":t[24]||(t[24]=l=>o(e).cns_disorder_option=l),name:"cns_option",id:"yes",type:"radio",class:"",value:"YES"},null,512),[[_,o(e).cns_disorder_option]]),i(" Yes ")]),o(e).cns_disorder_option==="YES"?r((n(),a("input",{key:0,id:"cnsDisorder","onUpdate:modelValue":t[25]||(t[25]=l=>o(e).cns_disorder=l),type:"text",class:"h-10 rounded-md drop-shadow-lg w-[13rem] mt-1 max-sm:w-full",placeholder:"if YES type here"},null,512)),[[u,o(e).cns_disorder]]):c("",!0)])]),s("div",gs,[s("div",vs,[ws,s("label",ks,[r(s("input",{name:"cardio_option",id:"no",type:"radio",class:"","onUpdate:modelValue":t[26]||(t[26]=l=>o(e).cardiovascular_disease_option=l),value:"NO",checked:""},null,512),[[_,o(e).cardiovascular_disease_option]]),i(" No ")]),s("label",Ys,[r(s("input",{name:"cardio_option",id:"yes",type:"radio",class:"","onUpdate:modelValue":t[27]||(t[27]=l=>o(e).cardiovascular_disease_option=l),value:"YES"},null,512),[[_,o(e).cardiovascular_disease_option]]),i(" Yes ")]),o(e).cardiovascular_disease_option==="YES"?r((n(),a("input",{key:0,id:"cardiovascularDisease","onUpdate:modelValue":t[28]||(t[28]=l=>o(e).cardiovascular_disease=l),type:"text",class:"h-10 rounded-md drop-shadow-lg w-[13rem] mt-1 max-sm:w-full",placeholder:"if YES type here"},null,512)),[[u,o(e).cardiovascular_disease]]):c("",!0)]),s("div",Ds,[Ss,s("label",Cs,[r(s("input",{name:"tooth_option","onUpdate:modelValue":t[29]||(t[29]=l=>o(e).tooth_related_surgery_option=l),id:"no",type:"radio",class:"",value:"NO",checked:""},null,512),[[_,o(e).tooth_related_surgery_option]]),i(" No ")]),s("label",Us,[r(s("input",{name:"tooth_option","onUpdate:modelValue":t[30]||(t[30]=l=>o(e).tooth_related_surgery_option=l),id:"yes",type:"radio",class:"",value:"YES"},null,512),[[_,o(e).tooth_related_surgery_option]]),i(" Yes ")]),o(e).tooth_related_surgery_option==="YES"?r((n(),a("input",{key:0,id:"toothSurgery","onUpdate:modelValue":t[31]||(t[31]=l=>o(e).tooth_related_surgery=l),type:"text",class:"h-10 rounded-md drop-shadow-lg w-[13rem] mt-1 max-sm:w-full",placeholder:"if YES type here"},null,512)),[[u,o(e).tooth_related_surgery]]):c("",!0)])])])]),footer:x(()=>[s("div",{class:"flex flex-row justify-end max-sm:flex-col-reverse"},[s("button",{onClick:v,type:"button",class:"text-gray-500 bg-white hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-blue-300 rounded-lg border border-gray-200 text-sm font-medium px-5 py-2.5 hover:text-gray-900 focus:z-10 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-500 dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-gray-600 mr-3 mb-3"}," Cancel "),Vs])]),_:1})],40,X)}}};export{qs as default};
