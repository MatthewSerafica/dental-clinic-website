import{T as O,r as B,c as P,n as b,s as X,p as A,i as n,f as Y,w as y,u as o,e as v,l as D,o as i,d as e,m as a,v as m,B as S,A as f,t as _,h as c,q as x,F as V,j as C,C as p,g as u}from"./app-cdbf4484.js";import{s as F}from"./flowbite-vue-62d8acb5.js";import{h as U}from"./index-89e1533b.js";const z=["onSubmit"],T=e("div",{class:"items-center px-4"},[e("h1",{class:"text-xl font-semibold text-gray-800"}," Add Patient Record ")],-1),L=e("h2",{class:"px-4 pb-1 text-gray-400"}," BASIC INFORMATION ",-1),R={class:"px-4"},$={class:"w-64 pb-1 max-sm:w-full"},j=e("label",{for:"patientId",class:"block font-semibold"},[u("ID Number "),e("label",{class:"text-[red]"},"*")],-1),K={key:0,class:"px-2 text-sm text-red-600"},H={class:"flex flex-row gap-4 pb-2 max-sm:flex-col"},J={class:"w-64 max-sm:w-full"},G=e("label",{for:"lname",class:"block font-semibold"},[u("Last Name "),e("label",{class:"text-[red]"},"*")],-1),Q={key:0,class:"px-2 text-sm text-red-600"},W={class:"w-64 max-sm:w-full"},Z=e("label",{for:"fname",class:"block font-semibold"},[u(" First Name "),e("label",{class:"text-[red]"},"*")],-1),ee={key:0,class:"px-2 text-sm text-red-600"},se={class:"w-64 max-sm:w-full"},oe=e("label",{for:"mname",class:"block font-semibold"},"Middle Name",-1),te={key:0,class:"px-2 text-sm text-red-600"},le={class:"flex flex-row gap-4 pb-2 max-sm:flex-col"},de={class:"max-sm:w-full"},ae=e("label",{for:"school",class:"block font-semibold"},[u("School "),e("label",{class:"text-[red]"},"*")],-1),re=e("option",{disabled:""}," Please select one ",-1),ne={key:0,class:"text-red-600"},ie={class:"w-64 max-sm:w-full"},ue=e("label",{for:"course",class:"block font-semibold"},[u("Course "),e("label",{class:"text-[red]"},"*")],-1),ce=e("option",{disabled:""}," Please select one ",-1),me=["value"],_e={key:0,class:"text-red-600"},pe={class:"max-sm:w-full"},be=e("label",{for:"year",class:"block font-semibold"},[u("Year level "),e("label",{class:"text-[red]"},"*")],-1),he=e("option",{disabled:""}," Please select one ",-1),fe=e("option",null,"1st Year",-1),xe=e("option",null,"2nd Year",-1),ye=e("option",null,"3rd Year",-1),ge=e("option",null,"4th Year",-1),ve=e("option",null,"5th Year",-1),we=[he,fe,xe,ye,ge,ve],ke={key:0,class:"text-red-600"},Ye={class:"flex flex-row pb-2 gap-72 max-sm:flex-col max-sm:gap-4"},De={class:"w-64 max-sm:w-full"},Se=e("label",{for:"age",class:"block font-semibold"},[u("Complete Address "),e("label",{class:"text-[red]"},"*")],-1),Ve={key:0,class:"px-2 text-sm text-red-600"},Ce={class:"w-64 max-sm:w-full"},Ue=e("label",{for:"contactNumber",class:"block font-semibold"},[u("Contact Number "),e("label",{class:"text-[red]"},"*")],-1),Ne={key:0,class:"px-2 text-sm text-red-600"},Me={class:"flex flex-row gap-4 pb-2 max-sm:flex-col"},Ee={class:""},qe=e("label",{for:"sex",class:"block font-semibold"},[u("Sex "),e("label",{class:"text-[red]"},"*")],-1),Ie=e("option",{disabled:"",value:""}," Please select one ",-1),Oe=e("option",null,"male",-1),Be=e("option",null,"female",-1),Pe=[Ie,Oe,Be],Xe={key:0,class:"text-red-600"},Ae={class:""},Fe=e("label",{for:"civilStatus",class:"block font-semibold"},[u("Civil Status "),e("label",{class:"text-[red]"},"*")],-1),ze=e("option",{disabled:""}," Please select one ",-1),Te=e("option",null,"single",-1),Le=e("option",null,"married",-1),Re=e("option",null,"separated",-1),$e=e("option",null,"divorced",-1),je=e("option",null,"widowed",-1),Ke=[ze,Te,Le,Re,$e,je],He={key:0,class:"text-red-600"},Je={class:""},Ge=e("label",{for:"birth_date",class:"block font-semibold after:whitespace-nowrap"},[u("Date of Birth "),e("label",{class:"text-[red]"},"*")],-1),Qe=["value","onClick"],We={class:""},Ze=e("label",{for:"age",class:"block font-semibold"},"Age",-1),es={key:0,class:"text-red-600"},ss=e("h2",{class:"px-4 pt-3 pb-1 text-gray-400"},"MEDICAL HISTORY",-1),os={class:"px-4"},ts={class:"flex flex-row gap-6 pb-2 max-sm:flex-col"},ls={class:""},ds=e("label",{for:"allergy",class:"block font-semibold"},"Allergies",-1),as={class:"mb-4"},rs=e("label",{for:"otherConditions",class:"block font-semibold"},"Other Conditions",-1),ns={class:"flex flex-row gap-6 pb-3 max-sm:flex-col"},is={class:"w-52 max-sm:w-full"},us=e("label",{for:"Diabetes",class:"block font-semibold"},"Diabetes",-1),cs={class:"block font-semibold"},ms={class:"block font-semibold"},_s={class:"w-52 max-sm:w-full"},ps=e("label",{for:"bloodDyscrasia",class:"block font-semibold"}," Blood Dyscrasia ",-1),bs={class:"block font-semibold"},hs={class:"block font-semibold"},fs={class:"w-52 max-sm:w-full"},xs=e("label",{for:"cnsDisorder",class:"block font-semibold"},"CNS Disorder",-1),ys={class:"block font-semibold"},gs={class:"block font-semibold"},vs={class:"flex flex-row gap-6 max-sm:flex-col"},ws={class:"w-52 max-sm:w-full"},ks=e("label",{for:"cardiovascularDisease",class:"block font-semibold"}," Cardiovascular Disease ",-1),Ys={class:"block font-semibold"},Ds={class:"block font-semibold"},Ss={class:"w-52 max-sm:w-full"},Vs=e("label",{for:"toothSurgery",class:"block font-semibold"}," Tooth Related Surgery ",-1),Cs={class:"block font-semibold"},Us={class:"block font-semibold"},Ns=e("button",{type:"submit",as:"button",class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800 mr-3 mb-3"}," Save Changes ",-1),Is={__name:"Edit",props:{student:{type:Object,default:()=>({})},schools:{type:Object,default:()=>({})}},setup(w,{emit:N}){const r=w,k=()=>{N("close")},s=O({id_number:r.student.id_number,last_name:r.student.last_name,first_name:r.student.first_name,middle_name:r.student.middle_name,birth_date:r.student.birth_date,age:r.student.age,sex:r.student.sex,contact_number:r.student.contact_number,address:r.student.address,civil_status:r.student.civil_status,school:B(r.student.school),course_name:r.student.course,course:null,year:r.student.year,allergies:r.student.medicals.allergies,diabetes:r.student.medicals.diabetes,blood_dyscrasia:r.student.medicals.blood_dyscrasia,cns_disorder:r.student.medicals.cns_disorder,cardiovascular_disease:r.student.medicals.cardiovascular_disease,tooth_related_surgery:r.student.medicals.tooth_related_surgery,other_conditions:r.student.medicals.other_conditions}),M=P(()=>{let d={};return r.schools.forEach(t=>{d[t.school]=t.id}),d}),g=async()=>{try{const d=M.value[s.school];if(d){const t=await D.get(route("student.course.index",d));s.course=t.data,s.course_id=t.data.length>0?t.data[0].id:null}}catch(d){console.log(d)}};b(s.school,g),X(g);const E=d=>d?U(d).format("DD/MM/YYYY"):"";b(()=>s.birth_date,d=>{if(d){const t=new Date(d),h=new Date;let l=h.getFullYear()-t.getFullYear();(h.getMonth()<t.getMonth()||h.getMonth()===t.getMonth()&&h.getDate()<t.getDate())&&l--,s.age=l.toString()}else s.age=null}),b(()=>s.last_name,d=>{s.errors.last_name=d?/^\d+$/.test(d)?"Last name should only contain letters":"":"Last name is required"}),b(()=>s.first_name,d=>{s.errors.first_name=d?/^\d+$/.test(d)?"First name should only contain letters":"":"First name is required"}),b(()=>s.contact_number,d=>{s.errors.contact_number=d?/^[09]\d+$/.test(d)?/^\D+$/.test(d)?"Contact number should only contain numbers":"":"Contact number should start with 09":"Contact Number is required"}),b(()=>s.id_number,async d=>{if(s.errors.id_number=d?/^\D+$/.test(d)?"ID number should only contain numbers":"":"ID number is required",!s.errors.id_number)try{const{data:t}=await D.get(route("student.check",d));t.exists&&(s.errors.id_number="ID number is already taken")}catch(t){console.error(t)}}),b(()=>s.address,d=>{s.errors.address=d?"":"Complete address is required"});const q=async()=>{s.birth_date=s.birth_date?U(s.birth_date).format("YYYY-MM-DD"):null,s.put(route("student.update",r.student.id_number),{preserveScroll:!1,preserveState:!1})};return(d,t)=>{const h=A("VDatePicker");return i(),n("form",{onSubmit:v(q,["prevent"])},[Y(o(F),{size:"4xl",class:"md:flex md:space-y-0 md:space-x-4",onClose:k},{header:y(()=>[T]),body:y(()=>[L,e("div",R,[e("div",$,[j,a(e("input",{onKeydown:t[0]||(t[0]=S(v(()=>{},["prevent"]),["space"])),id:"patientId","onUpdate:modelValue":t[1]||(t[1]=l=>o(s).id_number=l),type:"text",class:f(["w-full h-10 rounded-md drop-shadow-lg max-sm:w-full",{"border-red-600":o(s).errors.id_number}]),placeholder:"ex. 2201234",required:""},null,34),[[m,o(s).id_number,void 0,{number:!0}]]),o(s).errors.id_number?(i(),n("div",K,_(o(s).errors.id_number),1)):c("",!0)]),e("div",H,[e("div",J,[G,a(e("input",{id:"lname","onUpdate:modelValue":t[2]||(t[2]=l=>o(s).last_name=l),type:"text",class:f(["w-full h-10 rounded-md drop-shadow-lg",{"border-red-600":o(s).errors.last_name}]),placeholder:"Dela Cruz",required:""},null,2),[[m,o(s).last_name]]),o(s).errors.last_name?(i(),n("div",Q,_(o(s).errors.last_name),1)):c("",!0)]),e("div",W,[Z,a(e("input",{id:"fname","onUpdate:modelValue":t[3]||(t[3]=l=>o(s).first_name=l),type:"text",class:f(["w-full h-10 rounded-md drop-shadow-lg",{"border-red-600":o(s).errors.first_name}]),placeholder:"Juan",required:""},null,2),[[m,o(s).first_name]]),o(s).errors.first_name?(i(),n("div",ee,_(o(s).errors.first_name),1)):c("",!0)]),e("div",se,[oe,a(e("input",{id:"mname","onUpdate:modelValue":t[4]||(t[4]=l=>o(s).middle_name=l),type:"text",class:"w-full h-10 rounded-md drop-shadow-lg",placeholder:"Bautista"},null,512),[[m,o(s).middle_name]]),o(s).errors.middle_name?(i(),n("div",te,_(o(s).errors.middle_name),1)):c("",!0)])]),e("div",le,[e("div",de,[ae,a(e("select",{class:"h-10 rounded-md drop-shadow-lg max-sm:w-full","onUpdate:modelValue":t[5]||(t[5]=l=>o(s).school=l),onChange:g,required:""},[re,(i(!0),n(V,null,C(w.schools,l=>(i(),n("option",{key:l.id},_(l.school),1))),128))],544),[[x,o(s).school]]),o(s).errors.school?(i(),n("div",ne,_(o(s).errors.school),1)):c("",!0)]),e("div",ie,[ue,a(e("select",{required:"",class:"w-64 h-10 rounded-md drop-shadow-lg max-sm:w-full","onUpdate:modelValue":t[6]||(t[6]=l=>o(s).course_id=l)},[ce,(i(!0),n(V,null,C(o(s).course,l=>(i(),n("option",{key:l.id,value:l.id},_(l.course),9,me))),128))],512),[[x,o(s).course_id]]),o(s).errors.course?(i(),n("div",_e,_(o(s).errors.course),1)):c("",!0)]),e("div",pe,[be,a(e("select",{class:"rounded-md h-10 drop-shadow-lg w-[8.6em] max-sm:w-full","onUpdate:modelValue":t[7]||(t[7]=l=>o(s).year=l),required:""},we,512),[[x,o(s).year]]),o(s).errors.year?(i(),n("div",ke,_(o(s).errors.year),1)):c("",!0)])]),e("div",Ye,[e("div",De,[Se,a(e("input",{id:"age","onUpdate:modelValue":t[8]||(t[8]=l=>o(s).address=l),type:"text",class:f(["h-10 rounded-md drop-shadow-lg w-[33em] max-sm:w-full",{"border-red-600":o(s).errors.address}]),placeholder:"Street/Unit/Bldg/Village, Barangay, City/Municipality, Province",required:""},null,2),[[m,o(s).address]]),o(s).errors.address?(i(),n("div",Ve,_(o(s).errors.address),1)):c("",!0)]),e("div",Ce,[Ue,a(e("input",{onKeydown:t[9]||(t[9]=S(v(()=>{},["prevent"]),["space"])),id:"contactNumber","onUpdate:modelValue":t[10]||(t[10]=l=>o(s).contact_number=l),type:"tel",class:f(["h-10 rounded-md drop-shadow-lg max-sm:w-full",{"border-red-600":o(s).errors.contact_number}]),placeholder:"09XXXXXXXXX",required:""},null,34),[[m,o(s).contact_number]]),o(s).errors.contact_number?(i(),n("div",Ne,_(o(s).errors.contact_number),1)):c("",!0)])]),e("div",Me,[e("div",Ee,[qe,a(e("select",{class:"h-10 rounded-md drop-shadow-lg w-[8em] max-sm:w-full capitalize","onUpdate:modelValue":t[11]||(t[11]=l=>o(s).sex=l),required:""},Pe,512),[[x,o(s).sex]]),o(s).errors.sex?(i(),n("div",Xe,_(o(s).errors.sex),1)):c("",!0)]),e("div",Ae,[Fe,a(e("select",{class:"h-10 rounded-md drop-shadow-lg w-[11em] max-sm:w-full capitalize","onUpdate:modelValue":t[12]||(t[12]=l=>o(s).civil_status=l),required:""},Ke,512),[[x,o(s).civil_status]]),o(s).errors.civil_status?(i(),n("div",He,_(o(s).errors.civil_status),1)):c("",!0)]),e("div",Je,[Ge,Y(h,{id:"birth_date",modelValue:o(s).birth_date,"onUpdate:modelValue":t[13]||(t[13]=l=>o(s).birth_date=l)},{default:y(({togglePopover:l,inputValue:I})=>[e("input",{value:E(I),class:"border border-black w-[25rem] px-3 py-2 rounded-md drop-shadow-lg",placeholder:"DD/MM/YYYY",onClick:l},null,8,Qe)]),_:1},8,["modelValue"])]),e("div",We,[Ze,a(e("input",{id:"age","onUpdate:modelValue":t[14]||(t[14]=l=>o(s).age=l),type:"text",class:"h-10 rounded-md drop-shadow-lg w-[4em] max-sm:w-full",disabled:""},null,512),[[m,o(s).age]]),o(s).errors.age?(i(),n("div",es,_(o(s).errors.age),1)):c("",!0)])])]),ss,e("div",os,[e("div",ts,[e("div",ls,[ds,a(e("input",{id:"allergy","onUpdate:modelValue":t[15]||(t[15]=l=>o(s).allergies=l),type:"text",class:"h-10 rounded-md drop-shadow-lg w-[13rem] max-sm:w-full",placeholder:"type here"},null,512),[[m,o(s).allergies]])]),e("div",as,[rs,a(e("input",{id:"otherConditions","onUpdate:modelValue":t[16]||(t[16]=l=>o(s).other_conditions=l),type:"text",class:"h-10 rounded-md drop-shadow-lg w-[13rem] max-sm:w-full",placeholder:"type here"},null,512),[[m,o(s).other_conditions]])])]),e("div",ns,[e("div",is,[us,e("label",cs,[a(e("input",{"onUpdate:modelValue":t[17]||(t[17]=l=>o(s).diabetes_option=l),name:"diabetes_option",id:"no",type:"radio",class:"",value:"NO",checked:""},null,512),[[p,o(s).diabetes_option]]),u(" No ")]),e("label",ms,[a(e("input",{"onUpdate:modelValue":t[18]||(t[18]=l=>o(s).diabetes_option=l),name:"diabetes_option",id:"yes",type:"radio",class:"",value:"YES"},null,512),[[p,o(s).diabetes_option]]),u(" Yes ")]),o(s).diabetes_option==="YES"?a((i(),n("input",{key:0,id:"Diabetes","onUpdate:modelValue":t[19]||(t[19]=l=>o(s).diabetes=l),type:"text",class:"h-10 rounded-md drop-shadow-lg w-[13rem] mt-1 max-sm:w-full",placeholder:"if YES type here"},null,512)),[[m,o(s).diabetes]]):c("",!0)]),e("div",_s,[ps,e("label",bs,[a(e("input",{"onUpdate:modelValue":t[20]||(t[20]=l=>o(s).blood_dyscrasia_option=l),name:"blood_dysc_option",id:"no",type:"radio",class:"",value:"NO",checked:""},null,512),[[p,o(s).blood_dyscrasia_option]]),u(" No ")]),e("label",hs,[a(e("input",{"onUpdate:modelValue":t[21]||(t[21]=l=>o(s).blood_dyscrasia_option=l),name:"blood_dysc_option",id:"yes",type:"radio",class:"",value:"YES"},null,512),[[p,o(s).blood_dyscrasia_option]]),u(" Yes ")]),o(s).blood_dyscrasia_option==="YES"?a((i(),n("input",{key:0,id:"bloodDyscrasia","onUpdate:modelValue":t[22]||(t[22]=l=>o(s).blood_dyscrasia=l),type:"text",class:"h-10 mt-1 rounded-md drop-shadow-lg w-[13rem] max-sm:w-full",placeholder:"if YES type here"},null,512)),[[m,o(s).blood_dyscrasia]]):c("",!0)]),e("div",fs,[xs,e("label",ys,[a(e("input",{"onUpdate:modelValue":t[23]||(t[23]=l=>o(s).cns_disorder_option=l),name:"cns_option",id:"no",type:"radio",class:"",value:"NO",checked:""},null,512),[[p,o(s).cns_disorder_option]]),u(" No ")]),e("label",gs,[a(e("input",{"onUpdate:modelValue":t[24]||(t[24]=l=>o(s).cns_disorder_option=l),name:"cns_option",id:"yes",type:"radio",class:"",value:"YES"},null,512),[[p,o(s).cns_disorder_option]]),u(" Yes ")]),o(s).cns_disorder_option==="YES"?a((i(),n("input",{key:0,id:"cnsDisorder","onUpdate:modelValue":t[25]||(t[25]=l=>o(s).cns_disorder=l),type:"text",class:"h-10 rounded-md drop-shadow-lg w-[13rem] mt-1 max-sm:w-full",placeholder:"if YES type here"},null,512)),[[m,o(s).cns_disorder]]):c("",!0)])]),e("div",vs,[e("div",ws,[ks,e("label",Ys,[a(e("input",{name:"cardio_option",id:"no",type:"radio",class:"","onUpdate:modelValue":t[26]||(t[26]=l=>o(s).cardiovascular_disease_option=l),value:"NO",checked:""},null,512),[[p,o(s).cardiovascular_disease_option]]),u(" No ")]),e("label",Ds,[a(e("input",{name:"cardio_option",id:"yes",type:"radio",class:"","onUpdate:modelValue":t[27]||(t[27]=l=>o(s).cardiovascular_disease_option=l),value:"YES"},null,512),[[p,o(s).cardiovascular_disease_option]]),u(" Yes ")]),o(s).cardiovascular_disease_option==="YES"?a((i(),n("input",{key:0,id:"cardiovascularDisease","onUpdate:modelValue":t[28]||(t[28]=l=>o(s).cardiovascular_disease=l),type:"text",class:"h-10 rounded-md drop-shadow-lg w-[13rem] mt-1 max-sm:w-full",placeholder:"if YES type here"},null,512)),[[m,o(s).cardiovascular_disease]]):c("",!0)]),e("div",Ss,[Vs,e("label",Cs,[a(e("input",{name:"tooth_option","onUpdate:modelValue":t[29]||(t[29]=l=>o(s).tooth_related_surgery_option=l),id:"no",type:"radio",class:"",value:"NO",checked:""},null,512),[[p,o(s).tooth_related_surgery_option]]),u(" No ")]),e("label",Us,[a(e("input",{name:"tooth_option","onUpdate:modelValue":t[30]||(t[30]=l=>o(s).tooth_related_surgery_option=l),id:"yes",type:"radio",class:"",value:"YES"},null,512),[[p,o(s).tooth_related_surgery_option]]),u(" Yes ")]),o(s).tooth_related_surgery_option==="YES"?a((i(),n("input",{key:0,id:"toothSurgery","onUpdate:modelValue":t[31]||(t[31]=l=>o(s).tooth_related_surgery=l),type:"text",class:"h-10 rounded-md drop-shadow-lg w-[13rem] mt-1 max-sm:w-full",placeholder:"if YES type here"},null,512)),[[m,o(s).tooth_related_surgery]]):c("",!0)])])])]),footer:y(()=>[e("div",{class:"flex flex-row justify-end max-sm:flex-col-reverse"},[e("button",{onClick:k,type:"button",class:"text-gray-500 bg-white hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-blue-300 rounded-lg border border-gray-200 text-sm font-medium px-5 py-2.5 hover:text-gray-900 focus:z-10 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-500 dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-gray-600 mr-3 mb-3"}," Cancel "),Ns])]),_:1})],40,z)}}};export{Is as default};
