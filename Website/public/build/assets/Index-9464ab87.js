import{r as f,K as R,c as S,a as H,n as K,b as w,w as n,o as c,d as e,m as u,v as X,u as r,x as q,f as i,y as x,g as m,i as _,j as J,t as a,k as b,h as p,F as Q,O as W}from"./app-cdbf4484.js";import{E as Z}from"./Error-fb42616a.js";import{_ as ee}from"./Pagination-af17f53a.js";import{S as te}from"./Success-01c9158f.js";import se from"./Create-8e3ccee1.js";import le from"./MainLayout-ff052132.js";import{G as ae,s as Y,m as z}from"./flowbite-vue-62d8acb5.js";import{h as oe}from"./index-89e1533b.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./SideBar-ddd0ab5f.js";import"./SluDentalLogo-a4fb04a6.js";import"./DentistLinks-aebae790.js";import"./SideBarLinks-b569a21a.js";import"./DashboardIcon-abe5f48e.js";import"./UsersIcon-3089db95.js";import"./PatientIcon-56da3996.js";import"./PatientLinks-2a5a06a3.js";import"./AssistantLinks-c53c5408.js";import"./AdminLinks-fd8c5b60.js";import"./Header-33526c7b.js";import"./SideBarMobileView-d1951852.js";const ne=e("div",{class:"flex flex-col ml-2"},[e("h1",{class:"w-20 h-8 text-2xl font-bold text-gray-700"},"Employees"),e("h6",{class:"h-1 text-xs text-gray-400"},[e("a",{href:"/"},"Home"),m(" > Employees ")])],-1),re={class:"flex flex-col flex-grow mt-8 bg-white rounded-xl"},ie={class:"grid mt-10 mb-2 ml-10 mr-10"},de={class:"flex justify-between w-full py-1 mx-auto sm:items-center max-sm:flex-col max-sm:gap-4"},ce={class:"flex flex-row items-center gap-4"},me={class:"relative max-sm:w-full"},fe=e("div",{class:"absolute top-0 left-0 inline-flex items-center justify-center w-10 h-full text-gray-400"},[e("svg",{class:"w-6 h-6",fill:"none","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1),ue={class:"bg-gray-200 rounded shadow-lg"},he={class:"hover:bg-gray-300"},ge={class:"hover:bg-gray-300"},xe={class:"hover:bg-gray-300"},_e={class:"hover:bg-gray-300"},be={class:"hover:bg-gray-300"},pe={class:"grid mb-10 ml-10 mr-10"},ve={class:"gap-4 lg:grid-cols-2 lg:gap-8"},ye={class:"relative"},we={class:"w-full my-5 overflow-hidden rounded-lg sm:bg-white sm:shadow-lg"},ke=e("thead",{class:"w-full text-black"},[e("tr",{class:"flex flex-col mb-2 bg-gray-100 rounded-l-lg flex-no wrap sm:table-row sm:rounded-none sm:mb-0"},[e("th",{class:"p-3 text-left"},"PATIENTS"),e("th",{class:"p-3 text-left max-sm:hidden"}," DEPARTMENT "),e("th",{class:"p-3 text-left max-sm:hidden"},"SEX"),e("th",{class:"p-3 text-left max-sm:hidden"}," LAST VISIT ")])],-1),Te={class:"flex-1 sm:flex-none"},Ce={class:"p-3 border-grey-light sm:border-b hover:bg-gray-100 max-sm:hidden"},Se={class:"flex flex-col"},De={class:"mr-2 text-base font-medium leading-none text-gray-700"},Me={class:"mr-2 text-base font-normal leading-none text-gray-700"},Ee={class:"p-3 border-grey-light sm:border-b hover:bg-gray-100"},Ve={class:"flex flex-col"},$e={class:"mr-2 text-base font-medium leading-none text-gray-700"},Ne={class:"mr-2 text-base font-normal leading-none text-gray-700"},je={class:"p-3 border-grey-light sm:border-b hover:bg-gray-100 max-sm:hidden"},Ie={class:"flex flex-col"},Ye={class:"mr-2 text-base font-medium leading-none text-gray-700"},ze={class:"p-3 border-grey-light sm:border-b hover:bg-gray-100 max-sm:hidden"},Ae={class:"flex flex-col"},Be={class:"mr-2 text-base font-medium leading-none text-gray-700"},Fe={class:"p-3 border-b border-grey-light hover:bg-gray-100 max-sm:hidden"},Oe={class:"flex flex-col"},Ue={key:0,class:"mr-2 text-base font-medium leading-none text-gray-700"},Ge={key:1,class:"mr-2 text-base font-medium leading-none text-gray-700"},Le={key:0,class:"flex justify-center w-full mt-6"},Pe={class:"flex flex-col items-center gap-6 px-4 text-lg font-semibold"},Re={class:"text-xl text-center text-green-500 capitalize"},He={class:"w-56 pb-4 text-sm font-normal text-center text-gray-500"},Ke={class:"flex flex-col items-center gap-6 px-4 text-lg font-semibold"},Xe={class:"w-56 text-lg font-semibold text-center text-red-500 capitalize"},xt={__name:"Index",props:{employees:{type:Object,default:()=>({})},filters:{type:Object,default:()=>({})},departments:{type:Object,default:()=>({})}},setup(h){const A=h,B=o=>oe(o,"MM-DD-YYYY").format("DD-MM-YYYY"),g=f(!1);function D(){g.value=!1}const k=R(),M=S(()=>k.props.flash.success,g.value=!0),F=S(()=>k.props.flash.message),E=S(()=>k.props.flash.error,g.value=!0),T=f(!1);function O(){T.value=!1}function U(){T.value=!0}let d=f(A.filters.search),V=f("id_number"),$=f("asc"),v=f("");const s=H({male:!1,female:!1,teaching:!1,non_teaching:!1,all:!0});let C=null;const G=()=>{W.get("/employee",{search:d.value,sort:V.value,direction:$.value,sex:v.value,employee_type:s.all?"all":s.teaching?"teaching":s.non_teaching?"non-teaching":""},{preserveState:!0,replace:!0})},y=()=>{C&&clearTimeout(C),C=setTimeout(()=>{G()},500)},L=()=>{V.value="id_number",$.value="asc"};K(d,()=>{d.value||L(),y()});const N=o=>{j(o),o==="male"?(s.male=!0,s.female=!1,v.value="male"):o==="female"&&(s.female=!0,s.male=!1,v.value="female"),d.value="",y()},j=o=>{o!=="all"&&(s.all=!1)},I=o=>{j(o),o==="Teaching"?(s.teaching=!0,s.non_teaching=!1):o==="Non-Teaching"&&(s.non_teaching=!0,s.teaching=!1),y()},P=()=>{s.all=s.all,s.all=!0,s.male=!1,s.female=!1,s.teaching=!1,s.non_teaching=!1,v.value="",d.value="",y()};return(o,l)=>(c(),w(le,null,{mainContent:n(()=>[ne,e("div",re,[e("div",ie,[e("div",de,[e("div",ce,[e("div",me,[fe,u(e("input",{id:"search","onUpdate:modelValue":l[0]||(l[0]=t=>q(d)?d.value=t:d=t),type:"text",name:"search",class:"w-full h-10 pl-10 pr-4 text-sm placeholder-gray-500 border border-gray-300 rounded-lg sm:text-base focus:outline-none focus:border-indigo-400 bg-gray-50",placeholder:"Search..."},null,512),[[X,r(d)]])]),e("div",null,[i(r(ae),{placement:"bottom",text:"Filter"},{default:n(()=>[e("ul",ue,[e("li",he,[e("label",null,[u(e("input",{type:"checkbox","onUpdate:modelValue":l[1]||(l[1]=t=>s.all=t),onChange:P},null,544),[[x,s.all]]),m(" All ")])]),e("li",ge,[e("label",null,[u(e("input",{type:"checkbox","onUpdate:modelValue":l[2]||(l[2]=t=>s.male=t),onChange:l[3]||(l[3]=t=>N("male"))},null,544),[[x,s.male]]),m(" Male ")])]),e("li",xe,[e("label",null,[u(e("input",{type:"checkbox","onUpdate:modelValue":l[4]||(l[4]=t=>s.female=t),onChange:l[5]||(l[5]=t=>N("female"))},null,544),[[x,s.female]]),m(" Female ")])]),e("li",_e,[e("label",null,[u(e("input",{type:"checkbox","onUpdate:modelValue":l[6]||(l[6]=t=>s.teaching=t),onChange:l[7]||(l[7]=t=>I("Teaching")),class:"hover:bg-gray-300"},null,544),[[x,s.teaching]]),m(" Teaching ")])]),e("li",be,[e("label",null,[u(e("input",{type:"checkbox","onUpdate:modelValue":l[8]||(l[8]=t=>s.non_teaching=t),onChange:l[9]||(l[9]=t=>I("Non-Teaching")),class:"hover:bg-gray-300"},null,544),[[x,s.non_teaching]]),m(" Non-Teaching ")])])])]),_:1})])]),e("div",{class:""},[e("button",{onClick:U,type:"button",class:"px-5 py-3 text-sm font-medium text-center text-white bg-green-500 rounded-lg max-sm:w-full hover:bg-green-600 focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"}," Add New employee ")])])]),e("div",pe,[e("div",ve,[e("div",ye,[e("table",we,[ke,e("tbody",Te,[(c(!0),_(Q,null,J(h.employees.data,t=>(c(),_("tr",{class:"flex flex-col mb-2 flex-no wrap sm:table-row sm:mb-0 max-sm:border max-sm:roun hover:bg-gray-100",key:t.id_number},[e("td",Ce,[i(r(b),{href:`/employee/${t.id}`,class:"flex flex-col"},{default:n(()=>[e("div",Se,[e("p",De,a(t.id_number),1),e("p",Me,a(t.last_name)+", "+a(t.first_name)+" "+a(t.middle_name),1)])]),_:2},1032,["href"])]),i(r(b),{href:`/employee/${t.id}`,class:"flex flex-col sm:hidden"},{default:n(()=>[e("td",Ee,[e("div",Ve,[e("p",$e,a(t.id_number),1),e("p",Ne,a(t.last_name)+", "+a(t.first_name)+", "+a(t.middle_name),1)])])]),_:2},1032,["href"]),e("td",je,[i(r(b),{href:`/employee/${t.id}`,class:"flex flex-col"},{default:n(()=>[e("div",Ie,[e("p",Ye,a(t.department),1)])]),_:2},1032,["href"])]),e("td",ze,[i(r(b),{href:`/employee/${t.id}`,class:"flex flex-col"},{default:n(()=>[e("div",Ae,[e("p",Be,a(t.sex),1)])]),_:2},1032,["href"])]),e("td",Fe,[i(r(b),{href:`/employee/${t.id}`,class:"flex flex-col"},{default:n(()=>[e("div",Oe,[!t.treatments||!t.treatments.length?(c(),_("p",Ue," Did not visit yet ")):t.treatments[0].updated_at?(c(),_("p",Ge,a(B(new Date(t.treatments[0].date).toLocaleDateString())),1)):p("",!0)])]),_:2},1032,["href"])])]))),128))])])])]),h.employees.data.length?(c(),_("div",Le,[i(ee,{links:h.employees.links},null,8,["links"])])):p("",!0)]),T.value?(c(),w(se,{key:0,departments:h.departments,onClose:O},null,8,["departments"])):p("",!0)]),M.value&&g.value?(c(),w(r(Y),{key:0,persistent:"",size:"lg"},{body:n(()=>[e("div",Pe,[e("h1",Re,a(M.value),1),i(te,{class:"w-20 h-20"}),e("h2",He,a(F.value),1),i(r(z),{color:"default",size:"lg",class:"w-full",onClick:D},{default:n(()=>[m("Got It")]),_:1})])]),_:1})):p("",!0),E.value&&g.value?(c(),w(r(Y),{key:1,size:"md",persistent:""},{body:n(()=>[e("div",Ke,[i(Z,{class:"w-12 h-12"}),e("h1",Xe,a(E.value),1),i(r(z),{color:"default",size:"lg",class:"w-full",onClick:D},{default:n(()=>[m("Got It")]),_:1})])]),_:1})):p("",!0)]),_:1}))}};export{xt as default};
