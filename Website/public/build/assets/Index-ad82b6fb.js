import{r as m,K as D,c as L,y as H,i as j,o as c,h as y,w as k,b as e,a as g,t as i,d as S,m as n,v as F,u as w,p as R,e as A,z as d,f as a,g as G,x as z,F as K,O as P}from"./app-b4ce430c.js";import{S as X,_ as Z}from"./SortIcon-18263894.js";import q from"./MainLayout-6cdefecb.js";import J from"./Create-2b776dc9.js";import{m as Q}from"./module.esm-66530135.js";import{G as W}from"./flowbite-vue-bbcb8c87.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./SideBar-a0ceb092.js";import"./SluDentalLogo-fe187267.js";import"./DentistLinks-7d5fe479.js";import"./SideBarLinks-64ab4153.js";import"./DashboardIcon-8610b4cf.js";import"./UsersIcon-eed6ce0f.js";import"./PatientLinks-5b541d90.js";import"./Header-afb0ca39.js";const Y={class:"flex flex-col"},ee={class:"absolute rounded top-16 left-64"},te=e("div",{class:"relative flex flex-col top-4 left-16"},[e("h1",{class:"w-20 h-8 text-xl font-medium"},"STUDENTS"),e("h6",{class:"h-1 text-xs text-gray-400"},[e("a",{href:"/"},"Home"),a(" > Patients > Student List ")])],-1),se={class:"relative laptop:w-[75rem] laptop:h-[36rem] left-10 desktop:top-16 laptop:top-10 desktop:w-[99rem]"},oe={class:"w-full desktop:h-[42rem] laptop:h-[39rem] bg-white rounded-xl drop-shadow-lg"},le={key:0,"x-data":"{shown: false, timeout:null}","x-init":"clearTimeout(timeout); shown = true; timeout = setTimeout(() => { shown = false }, 2000);","x-show.transition.opacity.out.duration.2000ms":"shown",class:"absolute top-2 p-2 mb-4 bg-green-200 border border-green-200 rounded-md shadow-sm left-[42rem] w-56 dark:border-green-800 dark:bg-green-900 text-center"},ae={key:1,"x-data":"{shown: false, timeout:null}","x-init":"clearTimeout(timeout); shown = true; timeout = setTimeout(() => { shown = false }, 2000);","x-show.transition.opacity.out.duration.2000ms":"shown",class:"absolute top-2 p-2 mb-4 bg-red-400 border border-red-200 rounded-md shadow-sm left-[42rem] w-56 dark:border-red-800 dark:bg-red-900 text-center text-white"},ne={class:"px-5 py-6"},re={class:"grid items-center gap-4 laptop:grid-cols-16 desktop:grid-cols-12"},ie=e("label",{for:"simple-search",class:"sr-only"},"Search",-1),de={class:"col-start-1 laptop:col-end-5 desktop:col-end-4"},ue=e("div",{class:"absolute laptop:left-60 desktop:left-72 top-8 p-2 ml-4 text-sm font-medium text-[#808080]"},[e("svg",{class:"w-4 h-4","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20"},[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"})]),e("span",{class:"sr-only"},"Search")],-1),ce={class:"laptop:col-start-5 desktop:col-start-4"},pe={class:"bg-gray-200 rounded shadow-lg"},he={class:"hover-bg-gray-300"},me={class:"hover-bg-gray-300"},fe={class:"hover-bg-gray-300"},be={class:"hover-bg-gray-300"},ge={class:"hover-bg-gray-300"},Se={class:"hover-bg-gray-300"},ve={class:"hover-bg-gray-300"},xe={class:"hover-bg-gray-300"},_e={class:"hover-bg-gray-300"},ye={class:"relative desktop:top-2"},ke={class:"w-full text-sm text-left text-gray-500"},we={class:"text-xs text-left text-gray-400 bg-gray-50"},Ae={class:"p-6"},Ce={class:"flex items-center"},Oe={class:"p-6"},Ee={class:"p-6"},Me=e("th",{class:"p-6"},"SEX",-1),Te=e("th",{class:"p-6"},"SCHOOL",-1),Le=e("th",{class:"p-6"},"COURSE",-1),Ne=e("th",{class:"p-6"},"LAST VISIT",-1),Ve={class:"px-6 py-4"},$e={class:"px-6 py-4"},Be={class:"px-6 py-4"},Ue={class:"px-6 py-4"},Ie={class:"px-6 py-4"},De={class:"px-6 py-4"},He={class:"px-6 py-4"},je={key:0,class:"flex justify-center w-full mt-6"},st={__name:"Index",props:{students:{type:Object,default:()=>({})},filters:{type:Object,default:()=>({})},schools:{type:Object,default:()=>({})}},setup(p){const N=p;Q.start();const v=m(!1);function V(){v.value=!1}function $(){v.value=!0}const C=D(),O=L(()=>C.props.flash.success),E=L(()=>C.props.flash.error);let r=m(N.filters.search),f=m("id_number"),h=m("asc"),M=m("");const o=H({male:!1,female:!1,schools:{SAMCIS:!1,SAS:!1,SEA:!1,SOL:!1,SOM:!1,SONAHBS:!1,STELA:!1}});let x=null;const B=()=>{P.get("/student",{search:r.value,sort:f.value,direction:h.value,sex:M.value,school:o.school},{preserveState:!0,replace:!0})},b=()=>{x&&clearTimeout(x),x=setTimeout(()=>{B()},500)},U=()=>{f.value="id_number",h.value="asc"},I=l=>{l===f.value?h.value=h.value==="asc"?"desc":"asc":(f.value=l,h.value="asc")};j(r,()=>{r.value||U(),b()});const _=l=>{I(l),b()},T=l=>{l==="male"?o.female=!1:l==="female"&&(o.male=!1),M.value=o[l]?l:"",r.value="",b()},u=l=>{Object.keys(o.schools).forEach(t=>{t!==l&&(o.schools[t]=!1)}),o.school=o.school===l?"":l,r.value="",b()};return(l,t)=>(c(),y(q,null,{mainContent:k(()=>[e("div",Y,[e("div",ee,[te,e("div",se,[e("div",oe,[O.value?(c(),g("div",le,i(O.value),1)):S("",!0),E.value?(c(),g("div",ae,i(E.value),1)):S("",!0),e("div",ne,[e("div",re,[ie,e("div",de,[n(e("input",{type:"text",id:"simple-search","onUpdate:modelValue":t[0]||(t[0]=s=>R(r)?r.value=s:r=s),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full pl-3 p-2.5 dark:bg-white-700 dark:border-gray-300 dark:placeholder-gray-400 dark:text-black dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Search Student Name..."},null,512),[[F,w(r)]]),ue]),e("div",ce,[A(w(W),{placement:"bottom",text:"Filter"},{default:k(()=>[e("ul",pe,[e("li",he,[e("label",null,[n(e("input",{type:"checkbox","onUpdate:modelValue":t[1]||(t[1]=s=>o.male=s),onChange:t[2]||(t[2]=s=>T("male"))},null,544),[[d,o.male]]),a(" Male ")])]),e("li",me,[e("label",null,[n(e("input",{type:"checkbox","onUpdate:modelValue":t[3]||(t[3]=s=>o.female=s),onChange:t[4]||(t[4]=s=>T("female"))},null,544),[[d,o.female]]),a(" Female ")])]),e("li",fe,[e("label",null,[n(e("input",{type:"checkbox","onUpdate:modelValue":t[5]||(t[5]=s=>o.schools.SAMCIS=s),onChange:t[6]||(t[6]=s=>u("SAMCIS"))},null,544),[[d,o.schools.SAMCIS]]),a(" SAMCIS ")])]),e("li",be,[e("label",null,[n(e("input",{type:"checkbox","onUpdate:modelValue":t[7]||(t[7]=s=>o.schools.SAS=s),onChange:t[8]||(t[8]=s=>u("SAS"))},null,544),[[d,o.schools.SAS]]),a(" SAS ")])]),e("li",ge,[e("label",null,[n(e("input",{type:"checkbox","onUpdate:modelValue":t[9]||(t[9]=s=>o.schools.SEA=s),onChange:t[10]||(t[10]=s=>u("SEA"))},null,544),[[d,o.schools.SEA]]),a(" SEA ")])]),e("li",Se,[e("label",null,[n(e("input",{type:"checkbox","onUpdate:modelValue":t[11]||(t[11]=s=>o.schools.SOL=s),onChange:t[12]||(t[12]=s=>u("SOL"))},null,544),[[d,o.schools.SOL]]),a(" SOL ")])]),e("li",ve,[e("label",null,[n(e("input",{type:"checkbox","onUpdate:modelValue":t[13]||(t[13]=s=>o.schools.SOM=s),onChange:t[14]||(t[14]=s=>u("SOM"))},null,544),[[d,o.schools.SOM]]),a(" SOM ")])]),e("li",xe,[e("label",null,[n(e("input",{type:"checkbox","onUpdate:modelValue":t[15]||(t[15]=s=>o.schools.SONAHBS=s),onChange:t[16]||(t[16]=s=>u("SONAHBS"))},null,544),[[d,o.schools.SONAHBS]]),a(" SONAHBS ")])]),e("li",_e,[e("label",null,[n(e("input",{type:"checkbox","onUpdate:modelValue":t[17]||(t[17]=s=>o.schools.STELA=s),onChange:t[18]||(t[18]=s=>u("STELA"))},null,544),[[d,o.schools.STELA]]),a(" STELA ")])])])]),_:1})]),e("div",{class:"relative laptop:col-start-14 col-end-17 desktop:col-start-13"},[e("button",{onClick:$,type:"button",class:"px-5 py-3 text-sm font-medium text-center text-white bg-green-500 rounded-lg hover:bg-green-600 focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"}," Add New Student ")])]),e("div",ye,[e("table",ke,[e("thead",we,[e("tr",null,[e("th",Ae,[e("button",{onClick:t[19]||(t[19]=s=>_("id_number"))},[e("div",Ce,[a(" ID NUMBER "),A(X)])])]),e("th",Oe,[e("button",{onClick:t[20]||(t[20]=s=>_("last_name"))}," LAST NAME ")]),e("th",Ee,[e("button",{onClick:t[21]||(t[21]=s=>_("first_name"))}," FIRST NAME ")]),Me,Te,Le,Ne])]),e("tbody",null,[(c(!0),g(K,null,G(p.students.data,s=>(c(),y(w(z),{href:`/student/${s.id}`,class:"table-row bg-white border-b",key:s.id},{default:k(()=>[e("th",Ve,i(s.id_number),1),e("th",$e,i(s.last_name),1),e("th",Be,i(s.first_name),1),e("th",Ue,i(s.sex),1),e("th",Ie,i(s.school),1),e("th",De,i(s.course),1),e("th",He,i(new Date(s.updated_at).toLocaleDateString()),1)]),_:2},1032,["href"]))),128))])])]),p.students.data.length?(c(),g("div",je,[A(Z,{links:p.students.links},null,8,["links"])])):S("",!0)])]),v.value?(c(),y(J,{key:0,onClose:V,schools:p.schools},null,8,["schools"])):S("",!0)])])])]),_:1}))}};export{st as default};
